# Модальное окно с подсказкой (ModalPromptVC)

## Описание и назначение экрана
Экран предназначен для информирования пользователя о возможностях добавления заказа в Apple Wallet и/или Live Activities. Он объясняет, зачем это нужно, как работает, и какие преимущества получает пользователь. Экран появляется в виде модального окна поверх основного интерфейса приложения.

## Общая иерархия экрана
Экран реализован на основе UIViewController (`ModalPromptVC`) с использованием кастомного .xib-файла. Основные области: верхняя панель с заголовком и кнопкой закрытия, основная область с таблицей (UITableView), нижняя панель с кнопкой подтверждения.

---

## 1. Верхняя панель (`viewTitle: UIView`)
### 1.1. Назначение и элементы
- **Заголовок (`labelTitle: UILabel`)**  
  Отображает основной вопрос или тему подсказки.  
  Текст зависит от состояния экрана (Wallet или Wallet + Live Activities).
- **Кнопка закрытия (`buttonClose: ExtendedHitButton`)**  
  Иконка "крестик" в правом верхнем углу.  
  При нажатии закрывает модальное окно.

---

## 2. Основная область (`tableView: UITableView`)
Основной контент экрана реализован через таблицу, где каждая секция — это отдельный визуальный блок (фото или текст).

### 2.1. Секции и их элементы (в порядке отображения)
#### Состояние 1: Только Wallet
1. **Блок с изображением заказа в Wallet**  
   - Класс: `ModalPromptPhotoView`  
   - Содержит: `imageViewPhoto: UIImageView`  
   - Отображает иллюстрацию (ресурс walletPrompt).
   - Неинтерактивный элемент.
2. **Блок с текстовым описанием Wallet**  
   - Класс: `ModalPromptTextView`  
   - Содержит: `textView: DescriptionTextView`  
   - Отображает подробное описание преимуществ Wallet.
   - Текст форматируется с помощью HTML, поддерживает параграфы.

#### Состояние 2: Wallet + Live Activities
1. **Блок с изображением заказа в Wallet**  
   - Аналогично состоянию 1.
2. **Блок с текстовым описанием Wallet**  
   - Аналогично состоянию 1.
3. **Блок с изображением Live Activities**  
   - Класс: `ModalPromptPhotoView`  
   - Содержит: `imageViewPhoto: UIImageView`  
   - Отображает иллюстрацию (ресурс liveActivityPrompt).
   - Неинтерактивный элемент.
4. **Блок с текстовым описанием Live Activities**  
   - Класс: `ModalPromptTextView`  
   - Содержит: `textView: DescriptionTextView`  
   - Отображает подробное описание работы Live Activities.
   - Текст форматируется с помощью HTML, поддерживает параграфы.

**Особенности:**
- Порядок и количество секций зависит от состояния модели (`ModalPromptModel`).
- Все элементы таблицы неинтерактивны, используются только для отображения информации.

---

## 3. Всплывающие и дополнительные элементы
- **Модальное окно**  
  Сам экран является модальным и появляется поверх других экранов.

---

## 4. Нижняя навигационная панель (`viewBottom: UIStackView`)
- **Кнопка "ПОНЯТНО" (`buttonDone: UIButton`)**  
  Расположена внизу экрана, занимает всю ширину с отступами.
  При нажатии закрывает модальное окно.

---

## 5. Открываемые экраны при взаимодействии с элементами

### Интерактивные элементы и открываемые экраны

- **Кнопка закрытия (ExtendedHitButton)**  
  - Открывает: Закрывает текущее модальное окно (ModalPromptVC)
- **Кнопка "ПОНЯТНО" (UIButton)**  
  - Открывает: Закрывает текущее модальное окно (ModalPromptVC)

---

## 6. Схематичное дерево иерархии экрана

```
Модальное окно подсказки (ModalPromptVC)
├── Верхняя панель (viewTitle: UIView)
│   ├── Заголовок (labelTitle: UILabel)
│   └── Кнопка закрытия (buttonClose: ExtendedHitButton)
├── Основная область (tableView: UITableView)
│   ├── Секция 1: Блок с изображением заказа в Wallet (ModalPromptPhotoView)
│   ├── Секция 2: Блок с текстовым описанием Wallet (ModalPromptTextView)
│   ├── [Опционально] Секция 3: Блок с изображением Live Activities (ModalPromptPhotoView)
│   └── [Опционально] Секция 4: Блок с текстовым описанием Live Activities (ModalPromptTextView)
└── Нижняя панель (viewBottom: UIStackView)
    └── Кнопка "ПОНЯТНО" (buttonDone: UIButton)
```

---

## [Нужно дополнить]
- Не раскрыта логика работы с accessibility (озвучка, VoiceOver).
- Не описаны возможные состояния ошибок или загрузки (ViLoadIndicator импортируется, но не используется явно).

---