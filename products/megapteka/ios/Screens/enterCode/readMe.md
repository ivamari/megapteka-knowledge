# Экран «Ввод кода подтверждения» (EnterCodeVC)

## Описание и назначение экрана
Экран предназначен для ввода пользователем кода подтверждения, который отправлен на e-mail или телефон, с целью подтверждения смены пароля. Основная задача — ввести полученный код, подтвердить его, либо запросить повторную отправку кода, если письмо не пришло.

## Общая иерархия экрана
Экран реализован на базе UIViewController (`EnterCodeVC`), разметка построена с использованием UIScrollView для поддержки скроллинга на малых экранах. Все основные элементы размещены внутри одного вертикального блока.

---

## 1. Верхняя панель
### 1.1. Назначение и элементы
- **Заголовок экрана** (`navigationItem.title`)
  - Назначение: отображает название экрана — «Ввод кода подтверждения».
  - Взаимодействие: не интерактивен.
- **Кнопка "Назад"** (системная, не определена явно в .xib)
  - Назначение: возврат к предыдущему экрану.
  - Взаимодействие: возвращает пользователя на предыдущий шаг.

---

## 2. Основная область (контент)
Вся основная область размещена внутри UIScrollView (`scrollView`).

### 2.1. Секции и их элементы

- **Блок информации и ввода** (`UIView`)
  - **Текст-инструкция** (`UILabel`, `labelPhoneSender`)
    - Назначение: информирует пользователя, что код отправлен на e-mail/телефон.
    - Текст задаётся динамически, может содержать e-mail или телефон.
    - Не интерактивен.
  - **Поле для ввода кода** (`UITextField`, `textFieldCode`)
    - Назначение: ввод кода подтверждения.
    - Особенности: только цифры, клавиатура — numberPad, placeholder — «Код подтверждения».
    - Взаимодействие: ввод кода, автоматический фокус при открытии экрана.
    - Вложено в обводку (`UIView`, `viewCode`) с закруглёнными углами и рамкой.
  - **Кнопка "Подтвердить"** (`UIButton`, `buttonAccept`)
    - Назначение: отправка введённого кода на сервер для проверки.
    - Взаимодействие: при нажатии — отправка кода, показ индикатора загрузки, обработка результата (ошибка/успех, переход на экран смены пароля).
  - **Информационный текст о повторной отправке** (`UILabel`, `labelNoCode`)
    - Назначение: информирует, что письмо не пришло, и отображает таймер до возможности повторной отправки кода.
    - Особенности: отображается только если таймер активен (секунды > 0), текст меняется динамически (например, «Выслать код повторно можно будет через 15 сек.»).
    - Не интерактивен.
  - **Кнопка "Выслать код повторно"** (`UIButton`, `buttonResendCode`)
    - Назначение: позволяет запросить повторную отправку кода.
    - Особенности: отображается только если таймер неактивен (секунды == 0).
    - Взаимодействие: при нажатии — отправка нового кода, показ индикатора загрузки, запуск таймера, показ алерта об успешной отправке.

---

## 3. Всплывающие и дополнительные элементы
- **Алерты** (системные, вызываются программно)
  - Назначение: информируют пользователя об ошибках (например, неверный код, проблемы с сетью) или успешной отправке кода.
  - Условия показа: при ошибках или успешной повторной отправке кода.
  - Взаимодействие: закрываются пользователем.
- **Индикатор загрузки** (системный, вызывается программно)
  - Назначение: отображается при отправке кода или повторной отправке, скрывается после завершения операции.

---

## 4. Нижняя навигационная панель
- На экране отсутствует нижняя навигационная панель.

---

## 5. Открываемые экраны при взаимодействии с элементами
- **Кнопка "Подтвердить"**
  - Открывает: экран смены пароля (`ChangePswdVC`), если код введён верно.
- **Кнопка "Назад"**
  - Открывает: предыдущий экран (например, ввод e-mail/телефона).
- **Кнопка "Выслать код повторно"**
  - Не открывает новый экран, но вызывает алерт об успешной отправке кода.

---

## 6. Схематичное дерево иерархии экрана
```
Экран «Ввод кода подтверждения» (EnterCodeVC)
├── Верхняя панель (UINavigationBar)
│   ├── Кнопка "Назад" (UIBarButtonItem)
│   └── Заголовок (navigationItem.title)
├── Основная область (UIView)
│   └── Прокручиваемая область (UIScrollView)
│       └── Контейнер (UIView)
│           ├── Текст-инструкция (UILabel, labelPhoneSender)
│           ├── Область ввода кода (UIView, viewCode)
│           │   └── Поле для ввода кода (UITextField, textFieldCode)
│           ├── Кнопка "Подтвердить" (UIButton, buttonAccept)
│           ├── Информационный текст о повторной отправке (UILabel, labelNoCode)
│           └── Кнопка "Выслать код повторно" (UIButton, buttonResendCode)
├── Всплывающие элементы
│   ├── Алерты (UIAlertController)
│   └── Индикатор загрузки (UIActivityIndicatorView)
└── Нижняя навигационная панель — отсутствует
```

---

## [Нужно дополнить]
- Точные тексты, которые отображаются в labelPhoneSender, labelNoCode и placeholder textFieldCode, так как они задаются динамически через TextProvider.
- Внешний вид и стиль кнопок и полей (цвета, шрифты) — задаются через кастомные методы style, но их параметры не раскрыты полностью.
- Возможные дополнительные состояния (например, ошибки, алерты) — их тексты и условия показа определяются в других частях кода.
- Неизвестно, есть ли дополнительные анимации или переходы, кроме описанных. 