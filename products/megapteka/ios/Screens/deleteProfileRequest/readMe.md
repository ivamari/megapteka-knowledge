# Экран удаления профиля (DeleteProfileRequestVC)

## Описание и назначение экрана
Экран предназначен для удаления профиля пользователя. На экране отображается предупреждение о необратимости действия, перечень удаляемых данных, а также форма для сбора обратной связи о причине удаления профиля. Пользователь может выбрать причину, при необходимости оставить комментарий, и подтвердить или отменить удаление.

## Общая иерархия экрана
Экран реализован на основе `UIViewController` (`DeleteProfileRequestVC`) с использованием `UITableView`, каждая секция и элемент реализованы через кастомные ячейки и вью.

---

## 1. Верхняя панель
### 1.1. Назначение и элементы
- Заголовок экрана (navigationItem.title) — отображает название раздела (например, "Редактирование").
- Кнопка "Назад" (стандартная кнопка UINavigationController).

---

## 2. Основная область (основной контент)
Основная область реализована через `UITableView`, разбитую на секции:

### 2.1. Секции и их элементы

- **Секция: Информационный заголовок** (`ProfileTitleView`)
  - Описание: Заголовок с предупреждением о том, что данные профиля будут удалены без возможности восстановления.
  - Элемент: UILabel (labelTitle)
  - Особенности: Текст задается через TextProvider.UserProfile.Delete.infoTitle.

- **Секция: Список удаляемых данных** (`ProfileCheckItemView`)
  - Описание: Список пунктов, какие данные будут удалены (личные данные, история заказов, избранные товары, мои адреса).
  - Элементы:
    - UIImageView (imageViewIcon) — иконка галочки
    - UILabel (labelTitle) — текст пункта
  - Особенности: Каждый пункт отображается отдельной ячейкой.

- **Секция: Заголовок блока выбора причины** (`ProfileTitleView`)
  - Описание: Заголовок для блока выбора причины удаления профиля.
  - Элемент: UILabel (labelTitle)
  - Особенности: Текст задается через TextProvider.UserProfile.Delete.reasonTitle.

- **Секция: Список причин удаления** (`OrderCancelReasonView`)
  - Описание: Список радиокнопок с вариантами причин удаления профиля.
  - Элементы:
    - HighlightedView (viewContainer) — контейнер для выделения выбранного пункта
    - UIImageView (imageViewRadio) — иконка radioOn/radioOff
    - UILabel (labelTitle) — текст причины
  - Взаимодействие: Выбор одной причины (single selection). При выборе вызывается updateMessageBlock().
  - Особенности: Если причина требует комментария, появляется следующая секция.

- **Секция: Поле для комментария** (`OrderCancelMessageView`)
  - Описание: Текстовое поле для ввода дополнительного комментария, появляется только для определённых причин.
  - Элементы:
    - ViTextView (textView) — поле для ввода текста с плейсхолдером
  - Взаимодействие: Пользователь может ввести текст, который сохраняется в userMessage выбранной причины.
  - Особенности: Секция появляется только если selectedReason?.isShowComment == true.

- **Секция: Кнопки действий** (`ComponentButtonView`)
  - Описание: Кнопки для подтверждения или отмены удаления профиля.
  - Элементы:
    - UIButton (buttonAction) — основная кнопка "Удалить профиль" (стиль primary)
    - UIButton (buttonAction) — кнопка "Отмена" (стиль secondary)
  - Взаимодействие: Нажатие на "Удалить профиль" вызывает deleteHandler(), на "Отмена" — cancelHandler().

---

## 3. Всплывающие и дополнительные элементы
- Системные алерты и индикаторы загрузки (например, при удалении профиля).

---

## 4. Нижняя навигационная панель
- Стандартная UITabBar с кнопками: Главный, Каталог, Корзина, Избранное, Меню.
- Взаимодействие: Переход между основными разделами приложения.

---

## 5. Открываемые экраны при взаимодействии с элементами
- Кнопка "Удалить профиль" — при успешном удалении открывается экран успешного удаления профиля (`DeleteProfileSuccessVC`).
- Кнопка "Отмена" — возврат на предыдущий экран (popViewController).

---

## 6. Схематичное дерево иерархии экрана
```
Экран удаления профиля (DeleteProfileRequestVC)
├── Верхняя панель (UINavigationBar)
│   ├── Кнопка "Назад"
│   └── Заголовок
├── Основная область (UITableView)
│   ├── Секция: Информационный заголовок (ProfileTitleView)
│   ├── Секция: Список удаляемых данных (ProfileCheckItemView)
│   ├── Секция: Заголовок блока выбора причины (ProfileTitleView)
│   ├── Секция: Список причин удаления (OrderCancelReasonView)
│   ├── Секция: Поле для комментария (OrderCancelMessageView) [отображается по условию]
│   └── Секция: Кнопки действий (ComponentButtonView)
└── Нижняя навигационная панель (UITabBar)
    ├── Главный
    ├── Каталог
    ├── Корзина
    ├── Избранное
    └── Меню
```

---

## [Нужно дополнить]
- Не хватает информации о точных текстах, которые подставляются в заголовки и пункты (используются значения из TextProvider).
- Не хватает информации о кастомных алертах, ошибках и дополнительных модальных окнах.
- Не хватает информации о возможных дополнительных переходах и состояниях экрана. 