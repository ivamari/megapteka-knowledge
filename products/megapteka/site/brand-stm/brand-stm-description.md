# Страница брендов STM

## Назначение
Страница отображает информацию о конкретном бренде или производителе товаров. Служит контейнером для различных разделов бренда с табовой навигацией между товарами и инструкциями.

## Основные функции страницы
- Отображение информации о выбранном бренде/производителе
- Табовая навигация между разделами бренда
- Динамическое формирование хлебных крошек
- Контейнер для вложенных маршрутов (товары, инструкции)

## Элементы интерфейса

### Навигация
- **Хлебные крошки**: динамически формируемый путь
  - "Каталог товаров" → название текущего бренда
  - Адаптируется под текущий город пользователя

### Основной контент
- **Динамический заголовок**: отображает название бренда из API
- **Табовая навигация**: переключение между разделами бренда

### Табы (вкладки)
- **Вкладка "Товары"**: основной раздел с товарами бренда
  - Маршрут: `/{type}/{code}`
  - Активность определяется по текущему URL
- **Вкладка "Инструкции"**: раздел с инструкциями к товарам бренда
  - Маршрут: `/{type}/{code}/guides`
  - Отображается только если `detail().has_guide` равно `true`
  - Активность определяется по текущему URL

### Комментированный функционал
```html
<!-- Закомментированная вкладка "Отзывы" -->
<!-- Вероятно, планируется к добавлению в будущем -->
<!-- Показывала бы количество отзывов: detail().feedback_fill_count -->
```

### Область контента
- **Router Outlet**: контейнер для отображения содержимого активной вкладки

## Примеры взаимодействия
- **Клик по вкладке "Товары"**: переход к списку товаров бренда
- **Клик по вкладке "Инструкции"**: переход к инструкциям бренда (если доступно)

## Техническая реализация
- Компонент: `BrandStmComponent`
- Сервис: `BrandStmApiService` для получения данных о бренде
- Сигналы: использует Angular signals для реактивного состояния
  - `detail()` - данные о бренде
  - `h1()` - заголовок страницы
  - `type()` - тип бренда
  - `code()` - код бренда
- Зависимости: `CityService` для адаптации под город пользователя
- Стратегия обнаружения изменений: `OnPush`
- Пайп: `UrlCurrentPipe` для определения активной вкладки
