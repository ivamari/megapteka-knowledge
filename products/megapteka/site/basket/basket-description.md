# Модуль "Корзина"

## Назначение
Комплексный модуль корзины покупок с полным циклом оформления заказа. Включает управление товарами, применение скидок, оформление заказов и различные сценарии покупки.

## Основные функции модуля
- Управление товарами в корзине
- Оформление одиночных и множественных заказов
- Применение скидок и промокодов
- Обработка предзаказов
- Подтверждение и успешное завершение заказов

## Структура модуля

### Основные подстраницы

#### /basket/order-multi
- **Маршруты**: `ORDER_MULTI_ROUTES` (вложенная маршрутизация)
- **Назначение**: Оформление множественных заказов в разных аптеках

#### /basket/preorders
- **Маршруты**: `PREORDERS_ROUTES` (вложенная маршрутизация)
- **Назначение**: Управление предзаказами товаров
- **Защита**: проверка наличия товаров через `countItemGuard`

#### /basket/discount
- **Маршруты**: `DISCOUNT_ROUTES` (вложенная маршрутизация)
- **Назначение**: Применение скидок и промокодов
- **Защита**: проверка наличия товаров через `countItemGuard`

#### /basket/on-order
- **Маршруты**: `DISCOUNT_ROUTES` (вложенная маршрутизация)
- **Назначение**: Товары под заказ

#### /basket/order
- **Компонент**: `BasketComponent` (основной layout корзины)
- **Назначение**: Основная страница оформления заказа
- **Дочерние маршруты**: `PageBasketOrderModule`
- **Предзагрузка**: `data: {preload: true}`

### Дополнительные компоненты
- **components/**: Переиспользуемые компоненты корзины
- **directive/**: Директивы для функциональности корзины
- **guard/**: Защитники маршрутов (например, `countItemGuard`)
- **helpers/**: Вспомогательные функции
- **injection-token/**: Токены для внедрения зависимостей
- **service/**: Сервисы для работы с корзиной

## Техническая реализация
- **Архитектура**: Модульная структура с множественными уровнями вложенности
- **Маршрутизация**: `BASKET_ROUTES` с вложенными маршрутами
- **Защита**: `countItemGuard` проверяет наличие товаров перед доступом к определенным страницам
- **Ленивая загрузка**: все подмодули загружаются по требованию
- **Layout**: использует специальный `BasketComponent` как основной контейнер
