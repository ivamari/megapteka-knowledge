# StoresControlPromptFragment

## 1. Обзор Экрана

Экран "Аптечный контроль промт" (StoresControlPromptFragment) предназначен для отображения информационного или рекламного сообщения (промпта) перед переходом к функциональности "Аптечный контроль". Он может содержать заголовок, изображение, текст и кнопку действия, которая ведет к следующему экрану.

**Основные функции:**
*   Отображение динамического промпта с заголовком, изображением и текстом.
*   Переход к экрану "Аптечный контроль" по нажатию кнопки.
*   Обработка состояний загрузки и ошибок при получении данных промпта.

## 2. Элементы Пользовательского Интерфейса (UI Elements)

*   **TextView (header):**
    *   **Назначение/Функция:** Отображает заголовок промпта.
    *   **Вза��модействие пользователя:** Неинтерактивный элемент.
*   **ImageView (image):**
    *   **Назначение/Функция:** Отображает изображение, связанное с промптом. Соотношение сторон изображения может быть динамически настроено.
    *   **Взаимодействие пользователя:** Неинтерактивный элемент.
*   **TextView (body):**
    *   **Назначение/Функция:** Отображает основной текст промпта, который может содержать HTML-разметку.
    *   **Взаимодействие пользователя:** Неинтерактивный элемент.
*   **Button (button):**
    *   **Назначение/Функция:** Кнопка действия, текст которой динамически устанавливается из данных промпта.
    *   **Взаимодействие пользователя:** Нажатие переводит на экран "Аптечный контроль" (`StoresControlFragment`).

## 3. Пользовательские Сценарии (User Flows)

*   **Просмотр промпта:**
    1.  Пользователь о��крывает экран "Аптечный контроль промт".
    2.  ViewModel запрашивает данные промпта (`viewModel.prompt`).
    3.  При успешной загрузке, заголовок, изображение, текст и текст кнопки динамически заполняются.
    4.  При ошибке загрузки отображается диалог с сообщением об ошибке.
*   **Переход к "Аптечному контролю":**
    1.  Пользователь нажимает кнопку действия (`button`).
    2.  Происходит навигация к экрану `StoresControlFragment`.

## 4. Навигация

С экрана "Аптечный контроль промт" возможны следующие переходы:

*   **`StoresControlFragment`:** Для перехода к функциональности "Аптечный контроль".
*   **Назад к предыдущему экрану:** При нажатии кнопки "Назад" в тулбаре или системной кнопки "Назад".
*   **Диалоговые окна:** Для отображения ошибок.

### Deep Links

На этот экран можно попасть по следующим deep links:

*   `ma://{host}/pharmacy-control`

## 5. Отображаемые Данные

*   **Типы данных:**
    *   `Prompt`: Объект, содержащий данные промпта (заголовок, URL изображения, соотношение сторон изображения, текст, текст кнопки).
    *   `Resource<Prompt?>`: Для отслеживания статуса загрузки промпта.
*   **Источник данных:**
    *   **API:** `ApiService.getStoresControlPrompt` (REST метод: `GET /app/v1/control/prompt`) - для получения данных промпта.
    *   **Локальное хранилище:** Нет.

## 6. Особые Состояния/Логика

*   **Динамическое содержимое:** Все элементы UI (заголовок, изображение, текст, текст кнопки) динамически заполняются на основе данных, полученных из ViewModel.
*   **Соотношение сторон изображения:** `dimensionRatio` для `ImageView` динамически устанавливается, чтобы изображение корректно отображалось с заданным соотношением сторон.
*   **Обработка ошибок:** Ошибки загрузки данных промпта отображаются в виде диалоговых окон.
