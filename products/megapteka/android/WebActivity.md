# WebActivity

## Обзор Экрана
`WebActivity` — это универсальный экран для отображения веб-контента внутри приложения. Он используется для показа различных информационных страниц, таких как пользовательские соглашения, информация о компании, о приложении или инструкции по оформлению заказа. Экран загружает URL либо из предопределенных параметров приложения, либо из переданного интентом URL.

## Элементы Пользовательского Интерфейса (UI Elements)
*   **Toolbar (Панель инструментов)**:
    *   **Назначение/Функция**: Отображает заголовок экрана и кнопку "Назад" для навигации.
    *   **Возможные состояния**: Активное.
    *   **Взаимодействие пользователя**: Нажатие на кнопку "Назад" возвращает пользователя на предыдущ��й экран.
*   **WebView**:
    *   **Назначение/Функция**: Основной компонент для отображения веб-страниц.
    *   **Возможные состояния**: Загрузка (показывается индикатор прогресса), отображение контента, ошибка загрузки (показывается диалог ошибки).
    *   **Взаимодействие пользователя**: Пользователь может взаимодействовать с веб-контентом внутри `WebView` (например, нажимать на ссылки, прокручивать).
*   **Progress Bar (Индикатор прогресса)**:
    *   **Назначение/Функция**: Визуально информирует пользователя о загрузке веб-страницы.
    *   **Возможные состояния**: Видимый (во время загрузки), скрытый (после завершения загрузки или при ошибке).
    *   **Взаимодействие пользователя**: Нет прямого взаимодействия.

## Пользовательские Сценарии (User Flows)
*   **Просмотр пользовательского соглашения**: Пользователь переходит на экран `WebActivity` для ознакомления с пользовательским соглашением.
*   **Просмотр информации "О нас"**: Пользователь открывает страницу с информацией о компании.
*   **Просмотр информации "О приложении"**: Пользователь просматривает сведения о текущей версии приложения.
*   **Просмотр инструкций "Как заказать"**: Пользователь изучает пошаговые инструкции по оформлению заказа.
*   **Просмотр произвольной веб-страницы**: Приложение открывает `WebActivity` для отображения любого URL, переданного через интент.

## Навигация
*   **Переход на `WebActivity`**:
    *   Из различных частей приложения, где требуется отобразить веб-контент (например, из настроек, из раздела "Помощь").
    *   Условия перехода: Передача `ARGS_TYPE` (для предопределенных ��траниц) или `ARGS_URL` (для произвольных URL) через интент.
*   **Переход с `WebActivity`**:
    *   На предыдущий экран: Нажатие на кнопку "Назад" в тулбаре или системную кнопку "Назад".
    *   Повторная загрузка страницы: При ошибке загрузки веб-страницы пользователю предлагается диалог с возможностью повторной попытки.

### Deep Links

На этот экран нет прямых deep links.

## Отображаемые Данные
*   **Типы данных**: Веб-страницы (HTML, CSS, JavaScript).
*   **Источники данных**:
    *   **API:** `ApiService.getParameters` (REST метод: `GET parameters`) - для получения URL-адресов, хранящихся в параметрах приложения (например, `Parameter.URL_AGREEMENTS_ANDROID`, `Parameter.URL_PLATFOMNI`).
    *   **Входящие аргументы (`Intent`):** Произвольные URL, переданные через интент при запуске `WebActivity` (`ARGS_URL`).
    *   **Локальное хранилище:** Нет.

## Особые Состояния/Логика
*   **Загрузка**: Во время загрузки веб-страницы отображается индикатор прогресса.
*   **Ошибка загрузки**: Если `WebView` не может загрузить страницу (например, из-за отсутствия интернет-соединения или некорректного URL), индикатор прогресса скрывается, и пользователю отображается диалог с сообщением об ошибке и возможностью повторной попытки загрузки.
*   **Отсутствие интернет-соединения**: Обрабатывается как ошибка загрузки, предлагая пользователю повторить попытку.
*   **Обработка Insets**: Экран корректно обрабатывает системные отступы (например, статус-бар, навигационная панель, вырезы экрана) для правильного отображения контента.