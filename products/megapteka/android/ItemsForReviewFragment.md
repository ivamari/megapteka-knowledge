# ItemsForReviewFragment

## 1. Обзор Экрана

Экран "Товары для отзыва" (ItemsForReviewFragment) предоставляет пользователю возможность управлять отзывами о товарах. Он разделен на две вкладки: "Мои отзывы" (MyReviewsFragment) и "Ожидают отзыва" (ReviewAwaitFragment), позволяя просматривать уже оставленные отзывы и товары, которые еще предстоит оценить.

**Основные функции:**
*   Переключение между списками "Мои отзывы" и "Ожидают отзыва".
*   Просмотр товаров, ожидающих отзыва.
*   Просмотр уже оставленных отзывов.
*   Переход к экрану оставления/редактирования отзыва.

## 2. Элементы Пользовательского Интерфейса (UI Elements)

*   **TabLayout (tabs):**
    *   **Назначение/Функция:** Предоставляет две вкладки: "Мои отзывы" и "Ожидают отзыва", для переключения между различными списками товаров.
    *   **Возможные состояния:** Выбрана одна из вкладок.
    *   **Взаимодействие пользователя:** Нажатие на вкладку переключает отображаемый фрагмент (`MyReviewsFragment` или `ReviewAwaitFragment`).
*   **FrameLayout (consumerContainer):**
    *   **Назначение/Функция:** Контейнер для динамической загрузки фрагментов `MyReviewsFragment` или `ReviewAwaitFragment` в зависимости от выбранной вкладки.
    *   **Взаимодействие пользователя:** Не имеет прямых интерактивных элементов, служит для отображения контента выбранной вкладки.

## 3. Пользовательские Сценарии (User Flows)

*   **Переключение между вкладками:**
    1.  Пользователь открывает экран "Товары для отзыва".
    2.  По умолчанию выбрана одна из вкладок (обычно "Мои отзывы" или последняя активная).
    3.  Пользователь нажимает на другую вкладку.
    4.  Соответствующий фрагмент (`MyReviewsFragment` или `ReviewAwaitFragment`) отображается в `consumerContainer`.
    5.  Состояние выбранной вкладки сохраняется.
*   **Переход к экрану отзыва:**
    1.  Из `ReviewAwaitFragment` (или `MyReviewsFragment`, если там есть такая возможность), пользователь нажимает на товар, который нужно оценить.
    2.  Происходит навигация к экрану `ItemReviewFragment` с передачей информации о товаре и, возможно, начальной оценке.

## 4. Навигация

С экрана "Товары для отзыва" возможны следующие переходы:

*   **`ItemReviewFragment`:** Для оставления или редактирования отзыва о товаре.
*   **Внутренние переключения фрагментов:** Между `MyReviewsFragment` и `ReviewAwaitFragment` в зависимости от выбранной вкладки.

### Deep Links

На этот экран нет прямых deep links.

## 5. Отображаемые ��анные

*   **Типы данных:**
    *   `ItemForReview`: Объект, представляющий товар, который нужно оценить.
*   **Источник данных:**
    *   **API:**
        *   `ApiService.getItemsForReview` (REST метод: `GET /app/v1/items/rate`) - для получения списка товаров для оценки.
        *   `ApiService.getRatedItems` (REST метод: `GET /app/v1/items/rated`) - для получения списка оцененных товаров.
        *   `ApiService.hideItemForReview` (REST метод: `POST /app/v1/items/rate/hide`) - для скрытия товара из списка для оценки.
    *   **Локальное хранилище:** Нет.

## 6. Особые Состояния/Логика

*   **Сохранение состояния вкладки:** Выбранная вкладка сохраняется при изменении конфигурации (например, поворот экрана) и восстанавливается.
*   **Динамическая загрузка фрагментов:** Фрагменты `MyReviewsFragment` и `ReviewAwaitFragment` динамически добавляются/скрываются в `consumerContainer` в зависимости от выбранной вкладки, что оптимизирует использование ресурсов.
*   **Передача данных для отзыва:** Информация о товаре и начальная оценка передаются на экран `ItemReviewFragment` через аргументы навигации.