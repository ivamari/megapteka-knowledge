# OrderIdActivity

## Обзор Экрана
`OrderIdActivity` — это экран, предназначенный для детального отображения информации о конкретном заказе. Он предоставляет пользователю ключевые данные заказа, такие как его идентификатор, штрихкод для сканирования, информацию о магазине и общую стоимость. Особенностью экрана является возможность озвучивания ID заказа и автоматическое увеличение яркости экрана для удобства сканирования штрихкода.

## Элементы Пользовательского Интерфейса (UI Elements)
*   **ID Заказа (TextView `orderId`)**:
    *   **Назначение/Функция**: Отображает уникальный идентификатор заказа в подробном формате.
    *   **Возможные состояния**: Активное.
    *   **Взаимодействие пользователя**: Нет прямого взаимодействия.
*   **Штрихкод (ImageView `barcode`)**:
    *   **Назначение/Функция**: Отображает графическое представление штрихкода заказа, необходимое для его идентификации в пункте выдачи.
    *   **Возможные состояния**: Активное.
    *   **Взаимодействие пользователя**: Нет прямого взаимодействия.
*   **Бренд Магазина (TextView `storeBrand`)**:
    *   **Назначение/Функция**: Отображает название бренда аптеки, в которой оформлен заказ.
    *   **Возможные состояния**: Видимый (если бренд доступен), скрытый (если бренд отсутствует).
    *   **Взаимодействие пользователя**: Нет прямого взаимодействия.
*   **Адрес Магазина (TextView `storeAddress`)**:
    *   **Назначение/Функция**: Отображает полный адрес аптеки, где будет выдан заказ.
    *   **Возможные состояния**: Активное.
    *   **Взаимодействие пользователя**: Нет прямого взаимодействия.
*   **Стоимость Заказа (TextView `orderCost`)**:
    *   **Назначение/Функция**: Отображает итоговую сумму заказа.
    *   **Возможные состояния**: Активное.
    *   **Взаимодействие пользователя**: Нет прямого взаимодействия.
*   **Кнопка "Озвучить ID заказа" (ImageView `speak`)**:
    *   **Назначение/Функция**: Позволяет пользователю прослушать ID заказа с помощью синтеза речи.
    *   **Возможные состояния**: Видимая (если доступен TextToSpeech и есть текст для озвучивания), скрытая.
    *   **Взаимодействие пользователя**: Нажатие запускает озвучивание ID заказа.
*   **Кнопка "Закрыть" (ImageView `close`)**:
    *   **Назначение/Функция**: Закрывает текущий экран и возвращает пользователя на предыдущий.
    *   **Возможные состояния**: Активная.
    *   **Взаимодействие пользователя**: Нажатие закрыва��т экран.

## Пользовательские Сценарии (User Flows)
*   **Просмотр деталей заказа**: Пользователь переходит на экран `OrderIdActivity` из списка заказов или уведомления, чтобы просмотреть подробную информацию о своем заказе.
*   **Озвучивание ID заказа**: Пользователь нажимает на кнопку "Озвучить ID заказа" для голосового воспроизведения номера заказа, что может быть полезно при диктовке номера в аптеке.
*   **Закрытие экрана**: Пользователь завершает просмотр деталей заказа и нажимает кнопку "Закрыть" или системную кнопку "Назад", чтобы вернуться к предыдущему экрану.

## Навигация
*   **Переход на `OrderIdActivity`**:
    *   Осуществляется из других экранов приложения (например, из `OrdersFragment` или уведомлений), где требуется отобразить детали конкретного заказа.
    *   Условия ����ерехода: Передача объекта `Order` и опционального параметра `source` (источник перехода) через аргументы навигации (`navArgs`).
*   **Переход с `OrderIdActivity`**:
    *   На предыдущий экран: Нажатие на кнопку "Закрыть" или системную кнопку "Назад" приводит к завершению `OrderIdActivity` и возврату на предыдущий экран.

### Deep Links

На этот экран нет прямых deep links.

## Отображаемые Данные
*   **Типы данных**: Информация о заказе (ID, штрихкод, сумма), данные о магазине (бренд, адрес), текст для голосового воспроизведения ID заказа.
*   **Источники данных**:
    *   **Входящие аргументы (`navArgs`):** Объект `Order`, содержащий информацию о заказе.
    *   **Внешние SDK:** `TextToSpeech` (для озвучивания ID заказа).
    *   **Локальное хранилище:** Нет.

## Особые Состояния/Логика
*   **Управление яркостью экрана**: При отображении `OrderIdActivity` яркость экрана автоматически устанавливается на максимум (`BRIGHTNESS_OVERRIDE_FULL`) для обеспечения лучшей читаемости штрихкода. При уходе с экрана яркость возвращается к стандартному значению (`BRIGHTNESS_OVERRIDE_NONE`).
*   **Функция озвучивания**: Кнопка "Озвучить ID заказа" становится видимой только в том случае, если на устройстве доступен сервис `TextToSpeech` и для заказа предусмотрен текст для озвучивания (`speechText`). Озвучивание происходит по частям с небольшими паузами между ними.
*   **Обработка системных отступов**: Экран корректно обрабатывает системные отступы (например, статус-бар, навигационная панель, вырезы экрана) для правильного отображения контента, обеспечивая адаптивность UI.