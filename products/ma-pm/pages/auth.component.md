# Страница: Авторизация (Auth)

## 1. Обзор Страницы

-   **Назначение:** Страница предназначена для входа пользователей в систему "Аптечный мониторинг". Является точкой входа для всех защищенных разделов приложения.
-   **Основные функции:**
    -   Аутентификация пользователя по логину и паролю.
    -   Валидация введенных данных.
    -   Отображение ошибок при неудачной попытке входа.
    -   Перенаправление на главную страницу (Dashboard) после успешной аутентификации.

## 2. Элементы Пользовательского Интерфейса (UI Elements)

| Название элемента | Назначение/Функция | Возможные состояния | Взаимодействие пользователя |
| :--- | :--- | :--- | :--- |
| **Логотип "Megapteka"** | Брендирование, визуальная идентификация сервиса. | - Статичное | - Нет |
| **Поле "Логин"** | Ввод имени пользователя (логина). | - Пустое (по умолчанию)<br>- Заполненное<br>- Ошибка (подсвечивается красной рамкой при попытке отправки пустой формы) | - Ввод текста |
| **Поле "Пароль"** | Ввод пароля пользователя. | - Пустое (по умолчанию)<br>- Заполненное<br>- Ошибка (подсвечивается красной рамкой при попытке отправки пустой формы) | - Ввод текста (скрыт маской) |
| **Кнопка "Войти в личный кабинет"** | Отправка формы с логином и паролем на сервер для аутентификации. | - Активное (по умолчанию)<br>- Загрузка (`mLoading`, отображается спиннер) | - Нажатие (click) |
| **Ссылка "Служба поддержки"** | Отображение номера телефона для связи со службой поддержки. | - Статичное | - Нажатие инициирует звонок (`tel:`) |

## 3. Пользовательские Сценарии (User Flows)

1.  **Успешная авторизация:**
    -   Пользователь вводит корректные логин и пароль.
    -   Нажимает кнопку "Войти в личный кабинет".
    -   Кнопка переходит в состояние загрузки.
    -   Приложение отправляет запрос на сервер.
    -   Сервер подтверждает данные, приложение сохраняет сессию.
    -   Пользователь перенаправляется на главную страницу (`/`).
2.  **Неудачная авторизация (неверные данные):**
    -   Пользователь вводит неверный логин или пароль.
    -   Нажимает кнопку "Войти в личный кабинет".
    -   Приложение отправляет запрос, сервер возвращает ошибку.
    -   На экране появляется всплывающее уведомление с текстом ошибки.
    -   Кнопка возвращается в активное состояние.
3.  **Попытка входа с пустыми полями:**
    -   Пользователь оставляет одно или оба поля пустыми.
    -   Нажимает кнопку "Войти в личный кабинет".
    -   Поля подсвечиваются красным.
    -   Появляется всплывающее уведомление с просьбой указать логин/пароль.

## 4. Навигация

-   **Переходы с текущей страницы:**
    -   На главную страницу (`/`) после успешной аутентификации.
-   **Переходы на эту страницу:**
    -   При прямом заходе на `/auth`.
    -   При попытке неавторизованного пользователя получить доступ к любому защищенному роуту (например, `/`).

## 5. Отображаемые Данные

-   **Отправляемые данные:**
    -   **Тип:** Учетные данные пользователя (`username`, `password`).
    -   **Куда:** Отправляются на сервер через сервис `Auth`.
    -   **REST метод:** `POST`
    -       **Ендпоинт:** `vendors/v1/auth/login`
-   **Отображаемые данные:**
    -   На странице нет динамически загружаемых и отображаемых данных, кроме сообщений об ошибках, которые приходят от API в случае неудачного входа.

## 6. Особые Состояния/Логика

-   **Редирект авторизованного пользователя:** Если пользователь уже авторизован (в `AuthService` есть данные о пользователе) и пытается зайти на страницу `/auth`, он будет автоматически перенаправлен на главную страницу (`/`).
-   **Состояние загрузки:** Во время отправки запроса на сервер кнопка входа блокируется и на ней отображается индикатор загрузки, чтобы предотвратить повторные нажатия.
