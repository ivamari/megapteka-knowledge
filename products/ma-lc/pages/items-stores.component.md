# Страница: Товары → Сводка по аптекам (Items → Stores)

## 1. Обзор Страницы

- **Назначение**: Отображение сводной статистики по товарам в разрезе аптек.
- **Роль**: Инструмент для получения общей картины состояния товарной матрицы по каждой аптеке, позволяющий быстро оценить количество активных, несвязанных и отключенных товаров.
- **Основные функции**:
    - Просмотр списка аптек со статистикой по товарам.
    - Фильтрация аптек по UUID, адресу и городу.
    - Сортировка аптек по количеству активных, несвязанных или отключенных товаров.
    - Быстрый переход к детализированным отчетам по товарам для конкретной аптеки.

## 2. Элементы Пользовательского Интерфейса (UI)

- **Заголовок**: `<h1>Аптеки</h1>`
- **Фильтр**:
    - **Название**: `app-filter`.
    - **Назначение**: Предоставляет поля для фильтрации списка аптек.
    - **Поля фильтра**:
        - Код аптеки (UUID)
        - Адрес аптеки
        - Город
- **Пагинация**:
    - **Название**: `app-pagination`.
    - **Назначение**: Навигация по страницам списка аптек.
- **Таблица аптек**:
    - **Назначение**: Отображает сводную информацию по товарам для каждой аптеки.
    - **Колонки**:
        - `Код аптеки`: UUID аптеки.
        - `Город`: Город, в котором расположена аптека.
        - `Адрес`: Адрес аптеки.
        - `Активные товары`: Общее количество товаров, доступных для бронирования. Является ссылкой на страницу "Цены и остатки" с предустановленным фильтром по данной аптеке и статусу "активные".
        - `Несвязанные товары`: Количество товаров, которые система не смогла сопоставить с глобальным каталогом. Является ссылкой на страницу "Несвязанные товары" с фильтром по данной аптеке.
        - `Отключенные товары`: Количество товаров, которые сопоставлены с каталогом, но отключены и недоступны для бронирования. Является ссылкой на страницу "Цены и остатки" с фильтром по данной аптеке и статусу "отключенные".
    - **Сортировка**: Заголовки колонок "Активные товары", "Несвязанные товары" и "Отключенные товары" являются элементами сортировки.

## 3. Пользовательские Сценарии (User Flows)

- **Поиск аптеки с большим количеством несвязанных товаров**:
    1. Пользователь заходит на страницу.
    2. Кликает на заголовок колонки "Несвязанные товары" для сортировки по убыванию.
    3. Вверху списка появляются аптеки с наибольшим числом проблемных товаров.
    4. Пользователь кликает на число в этой колонке для конкретной аптеки.
    5. Система перенаправляет его на страницу "Несвязанные товары", где он может увидеть детальный список этих товаров.
- **Просмотр активного ассортимента конкретной аптеки**:
    1. Пользователь находит нужную аптеку в списке (используя фильтр по адресу или UUID).
    2. Кликает на число в колонке "Активные товары".
    3. Система перенаправляет его на страницу "Цены и остатки" с детальным списком всех активных товаров этой аптеки.

## 4. Навигация

- **Переходы с этой страницы**:
    - `/items/prices`: При клике на количество в колонках "Активные товары" или "Отключенные товары".
    - `/items/unconnected`: При клике на количество в колонке "Несвязанные товары".
- **Переходы на эту страницу**:
    - Через основное меню навигации (пункт "Товары" → "Аптеки").
    - Является страницей по умолчанию для раздела "Товары".

## 5. Отображаемые Данные

- **Типы данных**:
    - Список аптек со статистикой по товарам (`Store[]`).
- **Источники данных (API)**:
    - `GET merch-lk/v1/items/stores`: Получение списка аптек со сводной информацией по товарам. Принимает параметры фильтрации, сортировки и пагинации.
- **Отправляемые данные**:
    - Параметры фильтрации, сортировки и пагинации передаются в URL.

## 6. Особые Состояния/Логика

- **Загрузка**: Во время загрузки данных отображается `app-loader`.
- **Пустое состояние**: Если по заданным фильтрам не найдено ни одной аптеки, отображается `app-empty`.
- **Debounce**: Запросы на обновление списка после изменения фильтров отправляются с задержкой в 500 мс.
