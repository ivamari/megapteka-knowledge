# Страница: СТМ (Собственные Торговые Марки)

## 1. Обзор Страницы

- **Назначение**: Отображение списка товаров, относящихся к Собственным Торговым Маркам (СТМ) аптечной сети.
- **Роль**: Инструмент для каталогизации и управления информацией о товарах СТМ.
- **Основные функции**:
    - Просмотр списка товаров СТМ в виде карточек.
    - Поиск товаров по названию.
    - Фильтрация товаров по степени заполненности их карточек.
    - Переход на страницу детального редактирования информации о товаре.

## 2. Элементы Пользовательского Интерфейса (UI)

- **Заголовок**: `<h1>СТМ (собственные торговые марки)</h1>`
- **Фильтр**:
    - **Название**: `app-filter`.
    - **Назначение**: Предоставляет поля для поиска и фильтрации товаров.
    - **Поля фильтра**:
        - `Название товара`: Текстовое поле для поиска по наименованию.
        - `Заполненность`: Выпадающий список для фильтрации по степени заполненности карточки товара (например, "Заполнено", "Не заполнено", "Заполнено частично").
- **Список товаров**:
    - **Назначение**: Отображает отфильтрованный список товаров в виде сетки карточек.
    - **Карточка товара (`app-drug-card`)**:
        - **Изображение**: Фотография товара.
        - **Название**: Наименование товара.
        - **Статус заполненности**: Иконка и текстовая метка, показывающая, насколько полно заполнена информация о товаре.
        - **Кнопка "Редактировать"**: Ведет на страницу детального редактирования данного товара.
- **Пагинация**:
    - **Название**: `app-pagination`.
    - **Назначение**: Навигация по страницам списка товаров.

## 3. Пользовательские Сценарии (User Flows)

- **Поиск и редактирование товара**:
    1. Пользователь вводит название товара в поле "Название товара" в фильтре.
    2. Список товаров автоматически обновляется, отображая результаты поиска.
    3. Пользователь находит нужный товар и нажимает кнопку "Редактировать" на его карточке.
    4. Система перенаправляет пользователя на страницу детального редактирования этого товара (`/drugs/:id`).
- **Поиск незаполненных карточек**:
    1. Пользователь в фильтре "Заполненность" выбирает значение "Не заполнено".
    2. Список обновляется, показывая только товары с пустыми или частично заполненными карточками.

## 4. Навигация

- **Переходы с этой страницы**:
    - `/drugs/:id`: При нажатии на кнопку "Редактировать" на карточке товара. `:id` - это ID соответствующего товара.
- **Переходы на эту страницу**:
    - Через основное меню навигации (пункт "СТМ").

## 5. Отображаемые Данные

- **Типы данных**:
    - Список товаров СТМ (`Drug[]`).
    - Параметры фильтрации и пагинации.
- **Источники данных (API)**:
    - `GET merch-lk/v1/drugs`: Основной метод для получения списка товаров. Принимает параметры для фильтрации (`query`, `fullness_code`) и пагинации (`page`, `count`).
- **Отправляемые данные**:
    - Параметры фильтрации и пагинации передаются в URL.

## 6. Особые Состояния/Логика

- **Загрузка**: Во время загрузки списка товаров отображается компонент `app-loader`.
- **Пустое состояние**: Если по заданным фильтрам не найдено ни одного товара, отображается компонент `app-empty`.
- **Debounce**: Запросы на обновление списка после изменения фильтров отправляются с задержкой в 500 мс.
