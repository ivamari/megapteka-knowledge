# Страница: Суперадмин (Superadmin)

## 1. Обзор Страницы

- **Назначение**: Предоставление суперпользователю (сотруднику поддержки или менеджеру) возможности переключаться между профилями различных аптечных сетей и просматривать историю обратной связи.
- **Роль**: Инструмент для администрирования и поддержки, позволяющий действовать от имени другого пользователя (аптечной сети).
- **Основные функции**:
    - Выбор и переключение на профиль другой аптечной сети.
    - Просмотр списка сообщений обратной связи от всех сетей.

## 2. Элементы Пользовательского Интерфейса (UI)

Страница состоит из двух основных блоков: "Настройки суперпользователя" и "Обратная связь".

### Блок "Настройки суперпользователя"

- **Заголовок**: `<h1>Настройки суперпользователя</h1>`
- **Выпадающий список "Профиль"**:
    - **Название**: `app-select` (компонент).
    - **Назначение**: Позволяет найти и выбрать аптечную сеть для переключения профиля.
    - **Состояния**:
        - **Поиск**: При вводе текста отображается надпись "Начните вводить название".
        - **Загрузка**: Во время поиска отображается "Ищем профиль".
    - **Взаимодействие**:
        - При вводе названия сети в поле, отправляется поисковый запрос.
        - При выборе сети из списка, происходит переключение профиля, и страница перезагружается с правами и данными выбранной сети.

### Блок "Обратная связь"

- **Заголовок**: `<h1>Обратная связь</h1>`
- **Таблица с сообщениями**:
    - **Назначение**: Отображает список всех сообщений, отправленных через форму обратной связи.
    - **Колонки**:
        - `Ид`: Уникальный идентификатор сообщения.
        - `Дата`: Дата и время создания сообщения.
        - `Сообщение`: Текст сообщения.
        - `Оператор`: Логин оператора, отправившего сообщение.
        - `Сеть`: Название аптечной сети, от имени которой было отправлено сообщение.
- **Пагинация**:
    - **Название**: `app-pagination`.
    - **Назначение**: Позволяет перемещаться по страницам списка сообщений.
    - **Взаимодействие**: Нажатие на номер страницы или стрелки "вперед/назад" загружает соответствующую порцию данных.

## 3. Пользовательские Сценарии (User Flows)

- **Переключение профиля**:
    1. Суперпользователь заходит на страницу "Суперадмин".
    2. В блоке "Настройки суперпользователя" кликает на выпадающий список "Профиль".
    3. Начинает вводить название искомой аптечной сети.
    4. Выбирает нужную сеть из предложенного списка.
    5. Система отправляет запрос на смену профиля. После успешного ответа, обновляется токен авторизации, и пользователь видит личный кабинет от лица выбранной сети.
- **Просмотр обратной связи**:
    1. Пользователь находится на странице "Суперадмин".
    2. Прокручивает до блока "Обратная связь".
    3. Просматривает таблицу с последними сообщениями.
    4. Использует пагинацию внизу таблицы для перехода к более старым сообщениям.

## 4. Навигация

- **Переходы с этой страницы**: Нет прямых навигационных ссылок, кроме перезагрузки страницы при смене профиля.
- **Переходы на эту страницу**:
    - Через основное меню навигации (пункт "Суперадмин").

## 5. Отображаемые Данные

### Блок "Настройки суперпользователя"
- **Отображаемые данные**: Список аптечных сетей (загружается динамически при поиске).
- **Источники данных (API)**:
    - `GET merch-lk/v1/superadmin/networks`: Получение списка сетей для выбора. Принимает параметр `name` для поиска.
- **Отправляемые данные**:
    - `POST merch-lk/v1/superadmin/networks/set`: Отправка ID выбранной сети для смены профиля.
        - **Тело запроса**: `{ id: number }`

### Блок "Обратная связь"
- **Отображаемые данные**: Пагинированный список сообщений обратной связи.
- **Источники данных (API)**:
    - `GET merch-lk/v1/feedback`: Получение списка сообщений. Принимает параметры пагинации (`page`, `per_page`) из URL.

## 6. Особые Состояния/Логика

- **Загрузка**: Во время загрузки списка обратной связи отображается компонент `app-loader`.
- **Пустое состояние**: Если сообщений в обратной связи нет, отображается компонент `app-empty`.
- **Ошибки**: При ошибках API (смена профиля, загрузка списка) пользователю показывается всплывающее уведомление (toast) с текстом ошибки.
- **Авторизация**: После успешной смены профиля, данные пользователя в сервисе авторизации (`Auth`) обновляются, и на экране появляется уведомление "Профиль изменен".
