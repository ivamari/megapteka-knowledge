# Экран: Статьи (ScreenArticles)

## 1. Обзор Экрана

*   **Назначение:** Отображает вертикальный список всех статей, доступных для провизоров. Экран поддерживает бесконечную прокрутку для загрузки старых статей.
*   **Основные функции:**
    *   Просмотр списка всех статей.
    *   Бесконечная прокрутка (пагинация) для списка.
    *   Обновление списка с помощью pull-to-refresh.
    *   Переход к детальному экрану статьи.

## 2. Элементы Пользовательского Интерфейса (UI Elements)

*   **AppBar:**
    *   **Назначение:** Верхняя панель с заголовком "Статьи".
    *   **Взаимодействие:** Нет (кнопка "назад" не отображается, так как это корневой экран в своей вкладке).
*   **Список статей:**
    *   **Назначение:** Отображает вертикальный список статей с использованием пагинации.
    *   **UI Элементы:** `PagedListView` с карточками статей (`ArticleCard`).
    *   **Состояния:**
        *   **Загрузка:** Отображается индикатор загрузки.
        *   **Пустое состояние:** Отображается иллюстрация и текст "Статей нет".
        *   **Ошибка:** Отображается виджет с сообщением об ошибке.
    *   **Взаимодействие:**
        *   Прокрутка вниз загружает следующую страницу статей.
        *   Pull-to-refresh обновляет список.
        *   Нажатие на карточку статьи переходит на экран деталей статьи.

## 3. Пользовательские Сценарии (User Flows)

*   **Просмотр и пагинация статей:**
    1.  Пользователь открывает экран.
    2.  Прокручивает список вниз, и приложение автоматически подгружает следующую страницу статей.
*   **Переход к чтению статьи:**
    1.  Пользователь видит список статей.
    2.  Нажимает на интересующую его статью.
    3.  Происходит переход на экран `ScreenArticleDetail` для чтения полного текста.
*   **Обновление списка:**
    1.  Пользователь тянет список вниз (pull-to-refresh).
    2.  Список статей обновляется с сервера.

## 4. Навигация

*   **На экран "Детали статьи" (`/articles/:articleId`):**
    *   **Условие:** Нажатие на карточку статьи в списке.
    *   **Метод:** `context.go('/articles/${item.id}')`.

## 5. Отображаемые Данные

*   **Типы данных:** `Article` - краткая информация о статье для отображения в списке (заголовок, превью, дата и т.д.).
*   **Источник данных:**
    *   **API:** `GET /v1/articles`
    *   **Локальное хранилище:** Не используется.

## 6. Особые Состояния/Логика

*   **Пагинация:** Используется библиотека `infinite_scroll_pagination`. `ArticlesController` содержит `PagingController` для управления загрузкой страниц.
*   **Pull-to-refresh:** Обновляет список, сбрасывая пагинацию и запрашивая первую страницу заново.
*   **Пустое состояние:** Если сервер не возвращает ни одной статьи, отображается специальный виджет с иллюстрацией и текстом.
*   **Ошибка первой загрузки:** Если при загрузке первой страницы происходит ошибка, отображается виджет `ErrorPageWidget`.
