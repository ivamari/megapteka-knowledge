# Страница Редактирования/Создания Подписки (EditComponent)

## Обзор Страницы

**Назначение:** Эта страница предназначена для создания и редактирования подписок пользователей на уведомления о появлении товаров.

**Основные функции:**
-   Ввод/редактирование номера телефона.
-   Ввод ID товара и города (только при создании).
-   Изменение статуса активности подписки.

## Элементы Пользовательского Интерфейса (UI Elements)

| Название элемента | Назначение/функция | Возможные состояния | Взаимодействие пользователя |
| --- | --- | --- | --- |
| Поле "Телефон" | Ввод/редактирование номера телефона подписчика. | - | Ввод текста. |
| Поле "Ид товара" | Ввод ID товара, на который создается подписка. | - Неактивно (при редактировании) | Ввод числа. |
| Поле "Город" | Выбор города, для которого действует подписка. | - Неактивно (при редактировании) | Выбор из списка. |
| Чекбокс "Активность" | Управляет статусом активности подписки. | - Выбран<br>- Не выбран | Нажатие. |
| Кнопки "Сохранить", "Применить", "Отменить" | Управление сохранением изменений. | - | Нажатие. |
| Неередактируемые поля | Отображают информацию: дата создания, название товара. | - | - |

## Пользовательские Сценарии (User Flows)

1.  **Создание новой подписки:**
    -   Пользователь открывает пустую форму.
    -   Вводит номер телефона, ID товара и выбирает город.
    -   Устанавливает флаг "Активность".
    -   Нажимает "Сохранить" или "Применить".

2.  **Редактирование существующей подписки:**
    -   Пользователь открывает страницу с `id` подписки в URL.
    -   Форма заполняется данными.
    -   Пользователь может изменить номер телефона и статус активности.
    -   Нажимает "Сохранить" или "Применить".

## Навигация

**Переходы с текущей страницы:**
-   Возврат на страницу списка подписок (`/items/subscriptions/list`).
-   При создании новой подписки и сохранении, происходит переход на страницу редактирования этой же подписки (`/items/subscriptions/edit/:id`).

**Переходы на текущую страницу:**
-   Со страницы списка для редактирования: `/items/subscriptions/edit/:id`.
-   Со страницы списка для создания: `/items/subscriptions/edit`.

## Отображаемые Данные

**Получаемые данные:**
-   Детальная информация о подписке (при редактировании).
    -   **REST эндпоинт:** `GET /available-subscriptions/:id`
    -   **Сервис:** `ApiAvailableSubscriptionsService`
    -   **Метод сервиса:** `get()`

**Отправляемые данные:**
-   Полная модель подписки со всеми полями формы.
    -   **REST эндпоинт:** `POST /available-subscriptions` (создание) или `PUT /available-subscriptions` (обновление).
    -   **Сервис:** `SubscriptionsService`
    -   **Метод сервиса:** `save()`

## Особые Состояния/Логика

-   **Загрузка данных:** При редактировании, во время загрузки информации, на странице отображается индикатор загрузки.
-   **Валидация формы:** Поля "Телефон", "Ид товара", "Город" являются обязательными.
-   **Блокировка полей:** При редактировании существующей подписки поля "Ид товара" и "Город" становятся нередактируемыми.
