# Страница Смены Пароля Клиента (PasswordComponent)

## Обзор Страницы

**Назначение:** Эта страница предназначена для смены пароля клиента оператором.

**Основные функции:**
-   Поиск клиента по email.
-   Генерация нового пароля.
-   Сохранение нового пароля для клиента.

## Элементы Пользовательского Интерфейса (UI Elements)

| Название элемента | Назначение/функция | Возможные состояния | Взаимодействие пользователя |
| --- | --- | --- | --- |
| Поле "Email пользователя" | Ввод email для поиска клиента. | - Активно<br>- Неактивно (после успешной проверки) | Ввод текста. |
| Кнопка "Проверить" | Запускает поиск клиента по указанному email. | - | Нажатие. |
| Поле "Новый пароль" | Отображает сгенерированный пароль и позволяет его изменить. | - Появляется после успешной проверки email. | Ввод текста. |
| Кнопка "Сменить" | Сохраняет новый пароль для клиента. | - Появляется после успешной проверки email. | Нажатие. |

## Пользовательские Сценарии (User Flows)

1.  **Смена пароля:**
    -   Оператор вводит email клиента в поле "Email пользователя".
    -   Нажимает "Проверить".
    -   Если клиент с таким email найден, поле "Email" блокируется и появляется поле "Новый пароль" с автоматически сгенерированным паролем.
    -   Оператор копирует пароль, чтобы передать его клиенту.
    -   Нажимает кнопку "Сменить".
    -   Система запрашивает подтверждение.
    -   После подтверждения, новый пароль сохраняется, и форма сбрасывается в исходное состояние.

2.  **Клиент не найден:**
    -   Оператор вводит email.
    -   Нажимает "Проверить".
    -   Система не находит клиента и выводит сообщение об ошибке.

## Навигация

**Переходы с текущей страницы:**
-   Нет.

**Переходы на текущую страницу:**
-   Прямой переход по URL `/clients/password`.

## Отображаемые Данные

**Получаемые данные:**
-   ID клиента по его email.
    -   **REST эндпоинт:** `GET /clients/check-email`
    -   **Сервис:** `Service` (локальный) -> `ApiClientsService`
    -   **Метод сервиса:** `checkEmail()`

**Отправляемые данные:**
-   `id` (number): ID клиента.
-   `password` (string): Новый пароль.
    -   **REST эндпоинт:** `PUT /clients/update-password`
    -   **Сервис:** `Service` (локальный) -> `ApiClientsService`
    -   **Метод сервиса:** `updatePassword()`

## Особые Состояния/Логика

-   **Двухэтапный процесс:** Интерфейс работает в два этапа: сначала проверка email, затем смена пароля.
-   **Автогенерация пароля:** При успешной проверке email, новый пароль генерируется автоматически с помощью `PasswordService`.
-   **Подтверждение сохранения:** Перед сохранением нового пароля, система запрашивает подтверждение у оператора, напоминая, что нужно сохранить пароль перед сбросом формы.
-   **Сброс формы:** Форма автоматически сбрасывается после успешной смены пароля или при изменении email в поле ввода после успешной проверки.
