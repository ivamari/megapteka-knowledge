# Страница Создания Мерчанта (MerchantCreateComponent)

## Обзор Страницы

**Назначение:** Эта страница предназначена для создания нового мерчанта. После успешного создания, она отображает технические данные для интеграции (доступы к FTP и/или API).

**Основные функции:**
-   Выбор типа интеграции.
-   Ввод названия и кода нового мерчанта.
-   Установка статуса активности.
-   Создание мерчанта и отображение данных для подключения.

## Элементы Пользовательского Интерфейса (UI Elements)

| Название элемента | Назначение/функция | Возможные состояния | Взаимодействие пользователя |
| --- | --- | --- | --- |
| Поле "Тип интеграции" | Выбор типа интеграции из предопределенного списка. | - | Выбор из списка. |
| Поле "Название" | Ввод полного названия мерчанта. | - | Ввод текста. |
| Поле "Код" | Ввод уникального кода (идентификатора) мерчанта. | - | Ввод текста. |
| Чекбокс "Активность" | Управляет статусом активности нового мерчанта. | - Выбран<br>- Не выбран | Нажатие. |
| Кнопки "Сохранить", "Применить" | Запускают процесс создания мерчанта. | - | Нажатие. |
| Блок "Данные для подключения" | Появляется после успешного создания, отображает FTP/API доступы. | - Видим<br>- Скрыт | - |
| Кнопка "Новый мерчант" | Позволяет сбросить форму и создать еще одного мерчанта. | - Появляется после успешного создания. | Нажатие. |
| Кнопка "К списку" | Возвращает на страницу списка мерчантов. | - Появляется после успешного создания. | Нажатие. |

## Пользовательские Сценарии (User Flows)

1.  **Создание нового мерчанта:**
    -   Пользователь открывает страницу.
    -   Выбирает тип интеграции, вводит название и код.
    -   Устанавливает флаг "Активность".
    -   Нажимает "Сохранить".
    -   Форма скрывается, и на ее месте появляется блок с техническими данными для интеграции (FTP хост, логин, пароль; API хост, токен и т.д.).

2.  **Создание следующего мерчанта:**
    -   После создания первого мерчанта, пользователь нажимает кнопку "Новый мерчант".
    -   Страница перезагружается, отображая снова пустую форму.

## Навигация

**Переходы с текущей страницы:**
-   `/stores/merchants`: Переход на страницу списка мерчантов (после успешного создания).

**Переходы на текущую страницу:**
-   Со страницы списка мерчантов: `/stores/merchant-create`.

## Отображаемые Данные

**Получаемые данные:**
-   Список типов интеграции.
    -   **REST эндпоинт:** `GET /merchants/integration-types`
    -   **Сервис:** `MerchantCreateService`
    -   **Метод сервиса:** `getItegrationTypes()`

**Отправляемые данные:**
-   `integration_type` (number): ID типа интеграции.
-   `name` (string): Название мерчанта.
-   `code` (string): Код мерчанта.
-   `is_active` (boolean): Статус активности.

**REST эндпоинт для отправки данных:**
-   **Метод:** `POST`
-   **Эндпоинт:** `/merchants`
-   **Сервис:** `MerchantCreateService`
-   **Метод сервиса:** `save()`

## Особые Состояния/Логика

-   **Двухэтапный интерфейс:** Компонент имеет два состояния: форма создания и отображение результатов. После успешного сохранения (ответа от API), компонент переключается во второе состояние, показывая vyгенерированные доступы.
-   **Валидация формы:** Все поля являются обязательными.
-   **Определение окружения:** Отображаемые FTP/API хосты зависят от текущего окружения (production или development), в котором запущено приложение.
