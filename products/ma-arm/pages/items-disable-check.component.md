# Страница Проверки Отключения Товара (DisableCheckComponent)

## Обзор Страницы

**Назначение:** Эта страница является инструментом диагностики, который позволяет по ID товара проверить все возможные причины, по которым он может быть отключен (не виден или недоступен для заказа).

**Основные функции:**
-   Поиск информации об отключениях по ID товара.
-   Отображение основной информации о товаре.
-   Отображение всех действующих правил отключения, сгруппированных по типам:
    -   Отключения по объектам (мерчант, сеть, аптека).
    -   Отключения по шаблонам.
    -   Отключения по устройствам (девайсам).
    -   Отключения из-за аномальных цен.
-   Предоставление возможности быстрого включения/удаления правила отключения.

## Элементы Пользовательского Интерфейса (UI Elements)

| Название элемента | Назначение/функция | Возможные состояния | Взаимодействие пользователя |
| --- | --- | --- | --- |
| Поле "ID товара" | Ввод ID товара для проверки. | - | Ввод числа. |
| Кнопка "Искать" | Запуск процесса проверки. | - Активная<br>- Неактивная (во время загрузки) | Нажатие. |
| Таблицы с результатами | Отображают найденные причины отключения, сгруппированные по типам. | - | - |
| Кнопка "Включить" | Включает товар на определенном уровне (мерчант, сеть, аптека). | - | Нажатие. |
| Кнопка "Удалить шаблон" | Удаляет правило отключения по шаблону. | - | Нажатие. |
| Кнопка "Разблокировать" | Включает товар для конкретного устройства. | - | Нажатие. |
| Кнопки "Добавить исключение" | Добавляют товар в исключения проверки аномальных цен (для аптеки или для всей сети). | - | Нажатие. |

## Пользовательские Сценарии (User Flows)

1.  **Проверка товара:**
    -   Пользователь вводит ID товара.
    -   Нажимает "Искать".
    -   Система загружает и отображает все найденные причины отключения.

2.  **Устранение причины отключения:**
    -   Пользователь находит в одной из таблиц правило, которое хочет отменить.
    -   Нажимает соответствующую кнопку ("Включить", "Удалить шаблон" и т.д.).
    -   После подтверждения, правило отменяется, и система перезагружает данные для проверки.

## Навигация

**Переходы с текущей страницы:**
-   `/items/search/:id`: Переход на страницу редактирования проверяемого товара.
-   `/items/disable-networks/edit/:item_id/:network_id`: Переход на страницу редактирования правила отключения в сети.
-   `/items/disable-stores/edit/:item_id/:store_id`: Переход на страницу редактирования правила отключения в аптеке.
-   `/items/disable-devices/create`: Переход на страницу массового отключения у пользователей.

**Переходы на текущую страницу:**
-   Прямой переход по URL `/items/disable-check`.
-   Может быть передан параметр `item_id` в URL для автоматического поиска при загрузке.

## Отображаемые Данные

**Получаемые данные:**
-   Сводная информация обо всех отключениях для товара.
    -   **REST эндпоинт:** `GET /items/disabled/check`
    -   **Сервис:** `DisableCheckService`
    -   **Метод сервиса:** `check()`

**Отправляемые данные:**
-   Включение на уровне мерчанта: `POST /items/merchant-item-exception/enable`
-   Включение на уровне сети: `DELETE /items/network-disabled`
-   Включение на уровне аптеки: `DELETE /items/store-disabled`
-   Удаление шаблона: `DELETE /items/patterns-to-delete`
-   Включение на устройстве: `DELETE /items/device-disabled`
-   Добавление в исключения аномальных цен: `POST /items/abnormal-prices/exception` или `POST /items/abnormal-prices/network-exception`

## Особые Состояния/Логика

-   **Комплексный запрос:** Страница выполняет один основной запрос, который собирает информацию из разных источников на бэкенде.
-   **Подтверждение действий:** Перед выполнением любого отменяющего действия, система запрашивает подтверждение у пользователя.
-   **Перезагрузка данных:** После каждого успешного действия данные на странице автоматически перезагружаются, чтобы показать актуальное состояние.
-   **Работа с URL:** Компонент может принимать `item_id` из параметров URL и автоматически выполнять поиск при инициализации. При поиске `item_id` также добавляется в URL.
