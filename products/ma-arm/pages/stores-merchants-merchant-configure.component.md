# Страница Настройки Мерчанта (MerchantConfigureComponent)

## Обзор Страницы

**Назначение:** Эта страница представляет собой "пульт управления" для конкретного мерчанта, позволяя включать и отключать различные аспекты его работы на низком уровне.

**Основные функции:**
-   Просмотр текущего статуса активности мерчанта, коннектора и отдельных команд.
-   Включение/отключение мерчанта целиком.
-   Включение/отключение функции удаления обработанных файлов с FTP.
-   Включение/отключение всего коннектора (всех задач по расписанию).
-   Включение/отключение каждой отдельной команды (задачи) коннектора.

## Элементы Пользовательского Интерфейса (UI Elements)

| Название элемента | Назначение/функция | Возможные состояния | Взаимодействие пользователя |
| --- | --- | --- | --- |
| Индикатор и статус | Отображает текущий статус (Активен/Отключен) для мерчанта, коннектора или команды. | - Активен (зеленый)<br>- Отключен (красный) | - |
| Кнопка "Включить"/"Отключить" | Изменяет статус соответствующей сущности на противоположный. | - Активная<br>- Неактивная (во время загрузки) | Нажатие. |
| Кнопка "К списку" | Возвращает на страницу списка мерчантов. | - | Нажатие. |

## Пользовательские Сценарии (User Flows)

1.  **Временное отключение интеграции:**
    -   Пользователь открывает страницу нужного мерчанта.
    -   Нажимает "Отключить" напротив "Коннектор".
    -   Все задачи по интеграции (обмен остатками, заказами) для этого мерчанта останавливаются. FTP и API доступы при этом остаются активными.

2.  **Полное отключение мерчанта:**
    -   Пользователь нажимает "Отключить" напротив "Мерчант".
    -   Мерчант полностью деактивируется, включая доступы к FTP/API и все задачи коннектора.

3.  **Отключение конкретной задачи:**
    -   Пользователь находит в списке команд нужную (например, "Экспорт заказов").
    -   Нажимает "Отключить" напротив нее.
    -   Только эта конкретная задача перестает выполняться по расписанию.

## Навигация

**Переходы с текущей страницы:**
-   `/stores/merchants`: Возврат на страницу списка мерчантов.

**Переходы на текущую страницу:**
-   Со страницы списка мерчантов: `/stores/merchant-configure/:id`.

## Отображаемые Данные

**Получаемые данные:**
-   Детальная информация о статусах мерчанта и его коннектора.
    -   **REST эндпоинт:** `GET /merchants/configure`
    -   **Сервис:** `ApiMerchantsService`
    -   **Метод сервиса:** `getConfigure()`
    -   **Параметры:** `id` (ID мерчанта).

**Отправляемые данные:**
-   Изменение статуса мерчанта: `POST /merchants/configure/merchant`
-   Изменение статуса удаления файлов: `POST /merchants/configure/deletion`
-   Изменение статуса коннектора: `POST /merchants/configure/connector`
-   Изменение статуса команды: `POST /merchants/configure/command`
-   **Сервис:** `ApiMerchantsService`

## Особые Состояния/Логика

-   **Иерархия отключений:** Отключение сущности более высокого уровня (например, "Мерчант") автоматически деактивирует все дочерние сущности ("Коннектор", "Команды").
-   **Индикация загрузки:** Каждая кнопка имеет свой собственный индикатор загрузки, что позволяет выполнять несколько действий параллельно, не блокируя весь интерфейс.
-   **Проверка существования:** При инициализации компонент проверяет, существует ли мерчант, и выводит ошибку, если он не найден.
