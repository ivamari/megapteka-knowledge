# Страница Списка Исключений (ListComponent)

## Обзор Страницы

**Назначение:** Эта страница отображает список исключений. Исключение - это правило, которое запрещает автоматическое связывание конкретного товара от мерчанта с конкретным эталонным товаром Мегаптеки.

**Основные функции:**
-   Просмотр списка существующих исключений.
-   Фильтрация списка.
-   Переход на страницу создания нового исключения.
-   Включение/отключение (деактивация/активация) исключения.

## Элементы Пользовательского Интерфейса (UI Elements)

| Название элемента | Назначение/функция | Возможные состояния | Взаимодействие пользователя |
| --- | --- | --- | --- |
| Таблица с исключениями | Отображает список исключений. | - Загрузка<br>- Заполнено<br>- Пусто | Прокрутка. |
| Строка таблицы | Отображает пару "Эталон - Товар мерчанта", для которой создано исключение. | - | - |
| Кнопка "Новое исключение" | Переход на страницу создания нового исключения. | - | Нажатие. |
| Индикатор "Активность" | Показывает, активно ли исключение (зеленый - да, красный - нет). | - | - |
| Кнопка "Включить"/"Отключить" | Изменяет статус активности исключения. | - | Нажатие. |
| Компонент "Фильтр" | Позволяет фильтровать список исключений. | - | Ввод данных, выбор опций. |
| Компонент "Пагинация" | Позволяет переключаться между страницами списка. | - | Нажатие на номера страниц. |

## Пользовательские Сценарии (User Flows)

1.  **Просмотр списка:**
    -   Пользователь открывает страницу.
    -   Система загружает и отображает список исключений.

2.  **Деактивация исключения:**
    -   Пользователь находит нужное исключение в списке.
    -   Нажимает кнопку "Отключить".
    -   После подтверждения, исключение становится неактивным, и автоматическое связывание для этой пары товаров снова становится возможным.

3.  **Создание нового исключения:**
    -   Пользователь нажимает кнопку "Новое исключение".
    -   Пользователь перенаправляется на страницу создания.

## Навигация

**Переходы с текущей страницы:**
-   `/items/exceptions/new`: Переход на страницу создания нового исключения.

**Переходы на текущую страницу:**
-   Прямой переход по URL `/items/exceptions/list`.

## Отображаемые Данные

**Получаемые данные:**
-   Список исключений.
    -   **REST эндпоинт:** `GET /items/exceptions`
    -   **Сервис:** `ApiExceptionsService` (через `ListService`)
    -   **Метод сервиса:** `listExceptions()`

**Отправляемые данные:**
-   Изменение статуса активности.
    -   **REST эндпоинт:** `PUT /items/exceptions`
    -   **Сервис:** `ApiExceptionsService`
    -   **Метод сервиса:** `put()`

**Отображаемые поля:**
-   `etalon_name` (string): Название эталонного товара.
-   `item_name` (string): Название товара от мерчанта.
-   `is_deleted` (boolean): Флаг, показывающий, активно ли исключение (true - неактивно, false - активно).

## Особые Состояния/Логика

-   **Загрузка данных:** Во время загрузки списка с сервера, на странице отображается индикатор загрузки.
-   **Обновление по параметрам:** Список обновляется при изменении параметров в URL (фильтрация, пагинация).
-   **Изменение статуса:** При изменении статуса активности запрашивается подтверждение у пользователя.
