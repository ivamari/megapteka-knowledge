# Страница Проверки Возможных Ду-блей Товаров (MergeItemsCheckComponent)

## Обзор Страницы

**Назначение:** Эта страница отображает список пар товаров, которые система определила как возможные дубликаты. Оператор должен вручную проверить каждую пару и принять решение: объединить товары или отклонить предположение системы.

**Основные функции:**
-   Просмотр списка пар товаров-кандидатов на объединение.
-   Фильтрация списка.
-   Принятие решения по каждой паре:
    -   **Объединить:** Подтвердить, что товары являются дублями. Товар-дубль будет объединен с основным.
    -   **Отклонить:** Указать, что товары не являются дублями.

## Элементы Пользовательского Интерфейса (UI Elements)

| Название элемента | Назначение/функция | Возможные состояния | Взаимодействие пользователя |
| --- | --- | --- | --- |
| Таблица с парами товаров | Отображает список пар "основной товар - возможный дубль". | - Загрузка<br>- Заполнено<br>- Пусто | Прокрутка. |
| Строка таблицы | Отображает информацию о двух товарах: ID, название, бренд. | - | - |
| Ссылка (ID товара) | Переход на страницу "Связки от мерчантов" для более детального анализа товара. | - | Нажатие. |
| Кнопка "Объединить" | Подтверждает, что товары являются дублями, и запускает процесс их объединения. | - Активная<br>- Неактивная (во время загрузки) | Нажатие. |
| Кнопка "Отклонить" | Отклоняет предположение системы о том, что товары являются дублями. | - Активная<br>- Неактивная (во время загрузки) | Нажатие. |
| Компонент "Фильтр" | Позволяет фильтровать список. | - | Ввод данных, выбор опций. |
| Компонент "Пагинация" | Позволяет переключаться между страницами списка. | - | Нажатие на номера страниц. |

## Пользовательские Сценарии (User Flows)

1.  **Модерация дублей:**
    -   Пользователь открывает страницу и видит список пар-кандидатов.
    -   Для каждой пары он анализирует информацию, при необходимости переходит по ссылкам на страницы связок для детального изучения.
    -   Принимает решение:
        -   Если товары действительно являются дублями, нажимает "Объединить".
        -   Если товары разные, нажимает "Отклонить".
    -   После принятия решения пара исчезает из списка.

## Навигация

**Переходы с текущей страницы:**
-   `/items/prices-connections?item_id=:id`: Переход на страницу связок для основного товара или дубля.

**Переходы на текущую страницу:**
-   Прямой переход по URL `/items/merge-items-check`.

## Отображаемые Данные

**Получаемые данные:**
-   Список пар товаров, являющихся возможными дублями.
    -   **REST эндпоинт:** `GET /items/merge/check`
    -   **Сервис:** `MergeItemsCheckService`
    -   **Метод сервиса:** `getList()`

**Отправляемые данные:**
-   Решение по паре товаров.
    -   **REST эндпоинт:** `POST /items/merge/check`
    -   **Сервис:** `MergeItemsCheckService`
    -   **Метод сервиса:** `checkMerge()`
    -   **Параметры:** `id` (ID записи о паре), `is_approve` (boolean).

## Особые Состояния/Логика

-   **Загрузка данных:** Во время загрузки списка с сервера, на странице отображается индикатор загрузки.
-   **Обновление по параметрам:** Список обновляется при изменении параметров в URL (фильтрация, пагинация).
-   **Подтверждение действий:** Перед объединением или отклонением, система запрашивает подтверждение у пользователя.
-   **Индикация загрузки:** При нажатии кнопок "Объединить" или "Отклонить", на них появляется индикатор загрузки, блокируя повторное нажатие до завершения операции.
