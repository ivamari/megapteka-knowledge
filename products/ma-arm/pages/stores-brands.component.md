# Страница Списка Брендов (BrandsComponent)

## Обзор Страницы

**Назначение:** Эта страница предназначена для управления брендами аптек. Бренд - это сущность, которая может объединять несколько аптечных сетей под общим названием и логотипом (например, "Ригла").

**Основные функции:**
-   Просмотр списка брендов.
-   Фильтрация и поиск брендов.
-   Редактирование названия бренда "на лету".
-   Привязка бренда к аптечной сети.
-   Управление флагами "По умолчанию для всей сети" и "Для всей сети".
-   Загрузка, обновление и удаление логотипа бренда.
-   Переход к созданию нового бренда и к страницам настроек.

## Элементы Пользовательского Интерфейса (UI Elements)

| Название элемента | Назначение/функция | Возможные состояния | Взаимодействие пользователя |
| --- | --- | --- | --- |
| Таблица с брендами | Отображает список брендов. | - Загрузка<br>- Заполнено<br>- Пусто | Прокрутка. |
| Поле "Бренд" | Редактируемое поле с названием бренда. | - | Клик для редактирования, ввод текста. |
| Кнопка "Настройки свойств" | Переход на страницу настроек свойств для данного бренда. | - | Нажатие. |
| Кнопка "Настройки уведомлений" | Переход на страницу настроек уведомлений для данного бренда. | - | Нажатие. |
| Поле "Сеть" | Позволяет искать и привязывать бренд к аптечной сети. | - | Поиск и выбор из списка, сохранение. |
| Кнопки управления флагами | Управление флагами "По умолчанию для всей сети" и "Для всей сети". | - | Нажатие. |
| Поле "Логотип" | Загрузка и отображение логотипа бренда. | - | Выбор файла, сохранение, удаление. |
| Кнопка "Новый бренд" | Переход на страницу создания нового бренда. | - | Нажатие. |

## Пользовательские Сценарии (User Flows)

1.  **Редактирование бренда:**
    -   Пользователь находит нужный бренд в списке.
    -   Изменяет его название, привязывает к другой сети или меняет флаги.
    -   Загружает новый логотип.
    -   Все изменения сохраняются "на лету" или по нажатию кнопки "Сохранить" (для логотипа и сети).

2.  **Создание нового бренда:**
    -   Пользователь нажимает кнопку "Новый бренд".
    -   Переходит на страницу создания, где указывает название и другие параметры.

## Навигация

**Переходы с текущей страницы:**
-   `/stores/brands/edit`: Переход на страницу создания нового бренда.
-   `/stores/brands/props/:id`: Переход на страницу настроек свойств бренда.
-   `/stores/brands/warnings/:id`: Переход на страницу настроек уведомлений бренда.

**Переходы на текущую страницу:**
-   Прямой переход по URL `/stores/brands`.

## Отображаемые Данные

**Получаемые данные:**
-   Список брендов.
    -   **REST эндпоинт:** `GET /stores/brands`
    -   **Сервис:** `BrandsService`
    -   **Метод сервиса:** `getBrandsList()`

**Отправляемые данные:**
-   Обновление данных бренда (название, сеть, флаги, логотип).
    -   **REST эндпоинт:** `PUT /stores/brands`
    -   **Сервис:** `BrandsService`
    -   **Метод сервиса:** `updBrand()`
-   Удаление логотипа.
    -   **REST эндпоинт:** `DELETE /stores/brands/logo`
    -   **Сервис:** `BrandsService`
    -   **Метод сервиса:** `deleteLogo()`

## Особые Состояния/Логика

-   **Загрузка данных:** Во время загрузки списка с сервера, на странице отображается индикатор загрузки.
-   **Обновление по параметрам:** Список обновляется при изменении параметров в URL (фильтрация, пагинация).
-   **Подтверждение действий:** Перед сохранением изменений сети, флагов или логотипа, система запрашивает подтверждение у пользователя.
-   **Редактирование "на лету":** Название бренда можно редактировать прямо в таблице.
-   **Динамические формы:** Для управления привязкой к сети в списке используется динамически создаваемая `FormGroup` (`formList`).
