# Страница Отчета "Вознаграждение" (RewardComponent)

## Обзор Страницы

**Назначение:** Эта страница предназначена для формирования и скачивания отчета о вознаграждении для конкретной аптечной сети за выбранный период.

**Основные функции:**
-   Выбор аптечной сети.
-   Выбор периода (даты "с" и "по").
-   Формирование и скачивание отчета в формате Excel.

## Элементы Пользовательского Интерфейса (UI Elements)

| Название элемента | Назначение/функция | Возможные состояния | Взаимодействие пользователя |
| --- | --- | --- | --- |
| Поле "Аптечная сеть" | Выбор аптечной сети, для которой будет сформирован отчет. | - | Выбор из выпадающего списка. |
| Поле "Дата" | Выбор начальной и конечной даты для отчета. | - | Выбор дат из календаря. |
| Кнопка "Сформировать" | Запускает процесс формирования и скачивания отчета. | - Активная<br>- Неактивная (во время загрузки) | Нажатие. |

## Пользовательские Сценарии (User Flows)

1.  **Формирование отчета:**
    -   Пользователь открывает страницу.
    -   Выбирает аптечную сеть из списка.
    -   Выбирает нужный диапазон дат. По умолчанию установлен предыдущий месяц.
    -   Нажимает кнопку "Сформировать".
    -   Система генерирует отчет на сервере, и браузер предлагает пользователю скачать Excel-файл.

## Навигация

**Переходы с текущей страницы:**
-   Нет (происходит скачивание файла).

**Переходы на текущую страницу:**
-   Прямой переход по URL `/reports/reward`.

## Отображаемые Данные

**Получаемые данные:**
-   Список аптечных сетей для выбора в фильтре.
    -   **REST эндпоинт:** `GET /stores/networks`
    -   **Сервис:** `RewardService`
    -   **Метод сервиса:** `listNetworks()`

**Отправляемые данные (для формирования отчета):**
-   `network_id` (number): ID выбранной сети.
-   `from` (timestamp): Начальная дата периода.
-   `to` (timestamp): Конечная дата периода.

**REST эндпоинт для получения отчета:**
-   **Метод:** `GET`
-   **Эндпоинт:** `/reports/reward`
-   **Сервис:** `RewardService`
-   **Метод сервиса:** `getReport()`

## Особые Состояния/Логика

-   **Загрузка данных:** Во время формирования отчета на кнопке "Сформировать" отображается индикатор загрузки.
-   **Валидация формы:** Поля "Аптечная сеть" и "Дата" являются обязательными.
-   **Скачивание файла:** Сервис `RewardService` обрабатывает ответ от API как `blob` и инициирует скачивание файла браузером.
-   **Даты по умолчанию:** При загрузке страницы в поле "Дата" автоматически устанавливается период, соответствующий предыдущему календарному месяцу.
