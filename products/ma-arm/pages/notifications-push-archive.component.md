# Страница Архива Push-уведомлений (ArchiveComponent)

## Обзор Страницы

**Назначение:** Эта страница отображает список всех ранее отправленных push-уведомлений и их статистику.

**Основные функции:**
-   Просмотр списка отправленных push-уведомлений.
-   Просмотр статистики по каждому уведомлению (отправлено, открыто, конверсия).
-   Просмотр изображений, прикрепленных к уведомлениям.
-   Фильтрация и пагинация списка уведомлений.

## Элементы Пользовательского Интерфейса (UI Elements)

| Название элемента | Назначение/функция | Возможные состояния | Взаиодействие пользователя |
| --- | --- | --- | --- |
| Таблица с архивом | Отображает список отправленных push-уведомлений. | - Загрузка<br>- Заполнено<br>- Пусто | Прокрутка. |
| Строка таблицы | Отображает информацию о конкретном push-уведомлении. | - | - |
| Ссылка "Изображение" | Открывает модальное окно с изображением, прикрепленным к уведомлению. | - | Нажатие. |
| Кнопка "Новая рассылка" | Переход на страницу создания нового push-уведомления. | - | Нажатие. |
| Компонент "Фильтр" | Позволяет фильтровать список уведомлений. | - | Ввод данных, выбор опций. |
| Компонент "Пагинация" | Позволяет переключаться между страницами списка. | - | Нажатие на номера страниц. |
| Модальное окно "Изображение" | Отображает изображение в увеличенном виде. | - Открыто<br>- Закрыто | Закрытие. |

## Пользовательские Сценарии (User Flows)

1.  **Просмотр архива:**
    -   Пользователь открывает страницу.
    -   Система загружает и отображает список отправленных push-уведомлений.

2.  **Просмотр изображения:**
    -   Пользователь нажимает на ссылку "Изображение" в строке таблицы.
    -   Открывается модальное окно с изображением.

3.  **Переход к созданию новой рассылки:**
    -   Пользователь нажимает на кнопку "Новая рассылка".
    -   Пользователь перенаправляется на страницу создания нового push-уведомления.

## Навигация

**Переходы с текущей страницы:**
-   `/notifications/push/new`: Переход на страницу создания новой рассылки.

**Переходы на текущую страницу:**
-   Прямой переход по URL `/notifications/push/archive`.
-   Переход со страницы создания новой рассылки.

## Отображаемые Данные

**Получаемые данные:**
-   Список отправленных push-уведомлений.
    -   **REST эндпоинт:** `GET /notifications`
    -   **Сервис:** `ApiNotificationsService`
    -   **Метод сервиса:** `get()`
    -   **Параметры:** `param` (объект с параметрами фильтрации и пагинации).

**Отображаемые поля:**
-   `creation_date` (datetime): Дата и время отправки.
-   `title` (string): Заголовок.
-   `body` (string): Текст.
-   `android_image_url` (string): URL изображения для Android.
-   `ios_image_url` (string): URL изображения для iOS.
-   `attachament_type_name` (string): Название привязанного экрана.
-   `attachment_id` (number): ID детальной информации.
-   `recipients` (number): Количество получателей.
-   `views` (number): Количество просмотров.
-   `conversion` (number): Количество конверсий.

## Особые Состояния/Логика

-   **Расчет статистики:** В компоненте происходит расчет процентов просмотров и конверсии на основе данных, полученных с сервера.
-   **Загрузка данных:** Во время загрузки данных с сервера, на странице отображается индикатор загрузки.
-   **Обновление по параметрам:** Список уведомлений обновляется при изменении параметров в URL (фильтрация, пагинация).
