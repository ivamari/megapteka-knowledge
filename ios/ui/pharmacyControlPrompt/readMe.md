# Экран-пояснялка «Аптечный контроль»

## Описание и назначение экрана
Экран предназначен для информирования пользователей о проекте «Аптечный контроль» и вовлечения их в проверку и актуализацию данных об аптеках. Пользователь получает информацию о проекте и может перейти к выбору аптеки для отправки фотографий с названием, графиком работы и адресом. Экран играет роль вступительного шага в пользовательском сценарии отправки данных об аптеках.

## Общая иерархия экрана
Экран реализован на базе UIViewController (`PharmacyControlPromptVC`) с использованием кастомного xib-файла. Основная разметка построена на вертикальном UIStackView, включающем скроллируемую область с контентом и фиксированную нижнюю панель с кнопкой действия. Вся разметка адаптирована под Safe Area.

---

## 1. Верхняя панель
### 1.1. Назначение и элементы
- **Заголовок навигации**: «Аптечный контроль» (устанавливается через `navigationItem.title`).
  - Назначение: информирует о текущем разделе.
  - Взаимодействие: отображается всегда, слева — кнопка возврата (Back), стандартная для UINavigationController.

---

## 2. Основная область (основной контент)
Основная область реализована через UIScrollView, вложенный в UIStackView. Внутри ScrollView размещён контейнер UIView с вертикальным расположением элементов:

### 2.1. Секции и их элементы
- **Заголовок экрана** (`UILabel`, outlet: labelTitle)
  - Назначение: отображает основной призыв/тему («Будьте нашими глазами на улицах города»).
  - Логика: текст задаётся из модели (`model.title`).
  - Взаимодействие: не интерактивен.

- **Изображение** (`UIImageView`, outlet: imageViewPhoto)
  - Назначение: иллюстрирует суть задачи (на скриншоте — 3D-камера).
  - Логика: картинка загружается по URL из модели (`model.imageUrl`), если нет — используется placeholder.
  - Особенности: соотношение сторон регулируется constraint'ом (`constraintImageRatio`).
  - Взаимодействие: не интерактивен.

- **Описание/инструкция** (`DescriptionTextView`, кастомный UITextView, outlet: textViewDescription)
  - Назначение: подробное описание сути проекта, инструкции для пользователя.
  - Логика: текст задаётся из модели (`model.text`), поддерживает HTML-стилизацию.
  - Особенности: не редактируется, не скроллится отдельно, занимает всю доступную высоту.
  - Взаимодействие: не интерактивен.

---

## 3. Всплывающие и дополнительные элементы
- **Алерты об ошибках**: отображаются через `showAlert(error:)` при ошибках загрузки данных.
- **Индикатор загрузки**: показывается при загрузке модели (`showLoadIndicator`, `hideLoadIndicator`).
- **Тень под нижней панелью**: реализована через сервис `HidableShadowService`, появляется при прокрутке контента.

---

## 4. Нижняя навигационная панель
- **Фиксированная нижняя панель** (`UIView`, outlet: viewBottomButton)
  - Назначение: содержит основную кнопку действия.
  - Особенности: всегда закреплена внизу экрана, поверх основного контента, с тенью при необходимости.
  - Вложенные элементы:
    - **Кнопка «ВЫБРАТЬ АПТЕКУ»** (`UIButton`, outlet: buttonAction)
      - Назначение: основной call-to-action экрана.
      - Логика: текст задаётся из модели (`model.button`), если нет текста — кнопка скрыта.
      - Взаимодействие: при нажатии вызывает переход на следующий экран выбора аптеки (`router?.openPharmacyControl`).

- **Системная нижняя панель навигации приложения** (TabBar)
  - Назначение: глобальная навигация по разделам приложения (Главный, Каталог, Корзина, Избранное, Меню).
  - Взаимодействие: переход между разделами приложения.
  - Особенности: реализуется вне данного ViewController, но всегда видна на экране.

---

## 5. Схематичное дерево иерархии экрана
```
Экран «Аптечный контроль»
├── Верхняя панель
│   └── Заголовок навигации: «Аптечный контроль»
├── Основная область (UIScrollView)
│   └── Контейнер UIView
│       ├── Заголовок экрана (labelTitle)
│       ├── Изображение (imageViewPhoto)
│       └── Описание/инструкция (textViewDescription)
├── Всплывающие элементы
│   ├── Алерты ошибок
│   └── Индикатор загрузки
├── Нижняя панель экрана (viewBottomButton)
│   └── Кнопка действия (buttonAction)
└── Системная нижняя панель навигации (TabBar)
```

---

## [Нужно дополнить]
- Не хватает информации о точных названиях иконок и изображений, используемых в imageViewPhoto (загружается по URL из модели).
- Не хватает информации о кастомных стилях (цвета, шрифты), так как они задаются через расширения и не видны напрямую в xib/скриншоте.
- Не хватает информации о поведении при ошибках сети, кроме показа алерта.
- Не хватает информации о возможных дополнительных состояниях (например, если нет данных или кнопка скрыта). 
