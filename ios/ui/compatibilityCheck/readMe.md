# Совместимость лекарств

## Описание и назначение экрана
Экран предназначен для проверки совместимости двух лекарственных препаратов. Пользователь выбирает два препарата из каталога, после чего получает информацию о возможных взаимодействиях между ними. Экран помогает избежать нежелательных эффектов при одновременном приеме разных лекарств.

## Общая иерархия экрана
Экран реализован на основе UIViewController с использованием UIScrollView и вертикальных UIStackView для размещения основных элементов. Для выбора препаратов используются кастомные view-компоненты. Результат проверки отображается в отдельном блоке, который появляется только при наличии результата. В нижней части экрана всегда присутствует навигационная панель.

---

## 1. Верхняя панель

### 1.1. Назначение и элементы
- **Заголовок**: "Совместимость лекарств" — отображается по центру верхней панели.
- **Кнопка "Назад"**: слева, возвращает на предыдущий экран.
- **Особенности**: Заголовок задается программно, кнопка "Назад" стандартная для UINavigationController.

---

## 2. Основная область (основной контент)

### 2.1. Секции и их элементы

#### Секция: Инструкция
- **Описание**: Краткая подсказка для пользователя.
- **Элемент**: UILabel с текстом "Выберите 2 лекарственных препарата, чтобы проверить их совместимость".
- **Взаимодействие**: Только для чтения, не интерактивен.
- **Особенности**: Стиль и текст задаются программно.

#### Секция: Выбор препаратов
- **Описание**: Два блока для выбора лекарств.
- **Элементы**:
  - **Первый блок выбора** (CompatibilityCheckItemView):
    - В состоянии "ничего не выбрано": отображает placeholder "Выберите первое лекарство" и иконку "+" (неактивна).
    - В состоянии "лекарство выбрано": отображает название препарата на желтом фоне и иконку "крестик" (активна для удаления).
    - Взаимодействие: нажатие на блок открывает экран поиска препарата; нажатие на "крестик" убирает выбранный препарат.
    - Особенности: состояние и внешний вид меняются в зависимости от выбранного препарата.
  - **Второй блок выбора** (CompatibilityCheckItemView):
    - Аналогично первому, но с placeholder "Выберите второе лекарство".
- **Взаимодействие**: Пользователь может выбрать или удалить препарат в каждом блоке.

#### Секция: Результат проверки совместимости
- **Описание**: Блок появляется только если выбраны оба препарата и получен результат проверки.
- **Элементы**:
  - **Заголовок результата** (UILabel):
    - Варианты: "Данных о несовместимости нет", "Временной интервал" и др. — зависит от результата.
    - Стиль: жирный, крупный.
  - **Текст результата** (DescriptionTextView):
    - Подробное описание результата проверки (например, пояснение о совместимости или необходимости временного интервала).
    - Особенности: не редактируется, не выделяется, поддерживает ссылки.
- **Взаимодействие**: Только для чтения, появляется/скрывается динамически.
- **Особенности**: Цвет фона блока меняется в зависимости от типа результата (например, желтый или розовый).

---

## 3. Всплывающие и дополнительные элементы

- **Алерты**: При ошибках или отсутствии данных может появляться стандартный alert с сообщением.
- **Особенности**: Алерты вызываются программно через showAlert.

---

## 4. Нижняя навигационная панель

- **Описание**: Постоянно закреплена внизу экрана.
- **Элементы**:
  - Кнопки: "Главный", "Каталог", "Корзина", "Избранное", "Меню".
  - Иконки и подписи соответствуют разделам приложения.
- **Взаимодействие**: Переход между основными разделами приложения.

---

## 5. Схематичное дерево иерархии экрана

```
Экран "Совместимость лекарств"
├── Верхняя панель
│   ├── Кнопка "Назад"
│   └── Заголовок "Совместимость лекарств"
├── Основная область (UIScrollView)
│   └── Вертикальный StackView
│       ├── Секция: Инструкция
│       │   └── Текстовая подсказка (UILabel)
│       ├── Секция: Выбор препаратов
│       │   ├── Первый блок выбора (CompatibilityCheckItemView)
│       │   │   ├── Контейнер с рамкой (DashedBorderView)
│       │   │   ├── Название/placeholder (UILabel)
│       │   │   └── Кнопка действия ("+" или "крестик")
│       │   └── Второй блок выбора (CompatibilityCheckItemView)
│       │       ├── Контейнер с рамкой (DashedBorderView)
│       │       ├── Название/placeholder (UILabel)
│       │       └── Кнопка действия ("+" или "крестик")
│       └── Секция: Результат проверки (появляется динамически)
│           ├── Заголовок результата (UILabel)
│           └── Описание результата (DescriptionTextView)
├── Всплывающие элементы
│   └── Алерты
└── Нижняя навигационная панель
    ├── Кнопка "Главный"
    ├── Кнопка "Каталог"
    ├── Кнопка "Корзина"
    ├── Кнопка "Избранное"
    └── Кнопка "Меню"
```