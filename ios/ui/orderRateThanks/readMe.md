# Экран «Спасибо за отзыв» (OrderRateThanksVC)

## Описание и назначение экрана
Экран отображается после того, как пользователь оставил отзыв о заказе. Его задача — поблагодарить пользователя, повысить лояльность, предложить поделиться приложением с близкими. Экран завершает сценарий оценки заказа.

## Общая иерархия экрана
Экран реализован на базе UIViewController (`OrderRateThanksVC`) с использованием XIB-файла. Вся разметка построена на иерархии UIView, с применением UIStackView для вертикального размещения контента. Присутствуют анимированные и фоновые элементы, а также интерактивные кнопки.

---

## 1. Верхняя панель
### 1.1. Назначение и элементы
- **Кнопка закрытия (ExtendedHitButton, buttonClose)**
  - Назначение: позволяет закрыть экран и вернуться назад.
  - Взаимодействие: при нажатии вызывает метод закрытия экрана (`closeScreen()`).
  - Особенности: увеличенная зона нажатия (touchAreaPadding), иконка «крестик» (roundedCloseBtn), расположена в правом верхнем углу с отступом.

---

## 2. Основная область (основной контент)

### 2.1. Секции и их элементы

- **Фоновая анимация конфетти (SPConfettiView, viewConfetti)**
  - Назначение: создает праздничную атмосферу, визуально отмечая завершение действия.
  - Особенности: анимация запускается при появлении экрана и останавливается при исчезновении.
  - Не взаимодействует с пользователем.

- **Градиентный фон (GradientView, viewBg)**
  - Назначение: визуальное оформление экрана, плавный градиент от фиолетового к синему.
  - Не взаимодействует с пользователем.

- **Изображение персонажа (UIImageView, imageViewAccessory)**
  - Назначение: отображает иллюстрацию с персонажем, держащим сердце с логотипом.
  - Особенности: занимает центральное место в верхней части экрана, не интерактивно.

- **Заголовок (UILabel, labelTitle)**
  - Назначение: благодарит пользователя за отзыв. Текст: «Спасибо за отзыв».
  - Особенности: белый цвет, крупный шрифт, выравнивание по центру.

- **Основной текст (UILabel, labelText)**
  - Назначение: поясняет значимость отзыва и приглашает делиться приложением. Текст может быть изменён через `alertMsg`, иначе используется дефолтный текст из TextProvider.
  - Особенности: белый цвет, выравнивание по центру, несколько строк.

- **Кнопка «Поделиться приложением» (UIButton, buttonShareApp)**
  - Назначение: позволяет поделиться приложением с другими пользователями.
  - Взаимодействие: при нажатии открывает системное меню шаринга через DeepLinkService (deeplink на ma://megapteka.ru/share).
  - Особенности: белый фон, жирный шрифт, черный текст, закругленные углы, фиксированная высота.

---

## 3. Всплывающие и дополнительные элементы
- На экране не предусмотрены дополнительные всплывающие окна или алерты. [Нужно дополнить] — если в других состояниях экрана могут появляться дополнительные элементы, требуется уточнение.

---

## 4. Нижняя навигационная панель
- На экране отсутствует нижняя навигационная панель.

---

## 5. Открываемые экраны при взаимодействии с элементами

- **Кнопка закрытия (ExtendedHitButton, buttonClose)**
  - Действие: закрывает текущий экран (OrderRateThanksVC).

- **Кнопка «Поделиться приложением» (UIButton, buttonShareApp)**
  - Действие: открывает системное меню шаринга через DeepLinkService (deeplink на ma://megapteka.ru/share).

---

## 6. Схематичное дерево иерархии экрана
```
Экран «Спасибо за отзыв» (OrderRateThanksVC)
├── Верхняя панель
│   └── Кнопка закрытия (ExtendedHitButton, buttonClose)
├── Основная область
│   ├── Фоновая анимация конфетти (SPConfettiView, viewConfetti)
│   ├── Градиентный фон (GradientView, viewBg)
│   ├── Изображение персонажа (UIImageView, imageViewAccessory)
│   ├── Контейнер контента (UIStackView)
│   │   ├── Заголовок (UILabel, labelTitle)
│   │   ├── Основной текст (UILabel, labelText)
│   │   └── Кнопка «Поделиться приложением» (UIButton, buttonShareApp)
└── [Нужно дополнить] Всплывающие элементы (если появятся в других состояниях)
```

---

## [Нужно дополнить]
- Требуется уточнить, могут ли на экране появляться дополнительные всплывающие окна, алерты или состояния, не отражённые в предоставленных файлах и скриншотах.
- Необходимо уточнить, может ли меняться изображение персонажа или тексты в зависимости от состояния.
- Нет информации о возможных ошибках при шаринге приложения. 