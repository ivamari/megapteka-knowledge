# Экран «Совместимость лекарств» поиск по названию

## Описание и назначение экрана
Экран предназначен для поиска и выбора лекарственных средств с целью проверки их совместимости. Пользователь может ввести название препарата, воспользоваться голосовым вводом или сканированием штрихкода, чтобы найти нужное лекарство. Экран отображает результаты поиска или информирует пользователя об отсутствии результатов, а также позволяет выбрать конкретную форму препарата для дальнейших действий.

## Общая иерархия экрана
Экран реализован на основе многоуровневого представления с использованием стандартных компонентов UIKit. Основные области: верхняя панель с заголовком и кнопкой возврата, поисковая панель, основная область с результатами поиска (или сообщением о пустом результате), а также виртуальная клавиатура iOS (отображается при фокусе на поле поиска).

---

## 1. Верхняя панель
### 1.1. Назначение и элементы
- **Заголовок экрана** — отображает название раздела «Совместимость лекарств». Находится по центру верхней панели.
- **Кнопка возврата** — расположена слева, позволяет вернуться на предыдущий экран. Реализована в виде стандартной кнопки навигации.
- **Фон панели** — окрашен в красный цвет, визуально отделяет верхнюю панель от остального контента.

**Взаимодействие:**
- Нажатие на кнопку возврата приводит к закрытию текущего экрана и возврату к предыдущему.

---

## 2. Основная область (основной контент)
Основная область состоит из вертикального стека, включающего поисковую панель и таблицу с результатами поиска или блок с сообщением об отсутствии результатов.

### 2.1. Секции и их элементы

#### 2.1.1. Поисковая панель
- **Поле ввода поиска** — позволяет вводить название лекарства. При получении фокуса автоматически вызывает клавиатуру.
- **Иконка поиска** — слева в поле поиска, визуально обозначает назначение поля.
- **Кнопка очистки** — появляется при наличии текста в поле, позволяет быстро очистить введённый текст.
- **Кнопка голосового ввода** — справа, позволяет ввести запрос голосом.
- **Кнопка сканирования штрихкода** — крайняя справа, открывает экран сканирования для поиска по штрихкоду.

**Взаимодействие:**
- Ввод текста обновляет результаты поиска с задержкой (debounce).
- Нажатие на кнопку очистки сбрасывает текст и результаты поиска.
- Нажатие на кнопку голосового ввода активирует голосовой ввод (если поддерживается).
- Нажатие на кнопку сканирования открывает отдельный экран сканирования.

#### 2.1.2. Секция «Результаты поиска»
- **Таблица результатов** — отображает список найденных препаратов, соответствующих запросу пользователя. Каждый элемент списка содержит название препарата и его форму выпуска.
- **Ячейка результата** — отдельная строка с названием препарата (например, «Но-шпа», «Но-шпа раствор для инъекций», «Но-шпа таблетки»). Между ячейками — разделительная линия.

**Взаимодействие:**
- Прокрутка списка доступна при большом количестве результатов.
- Нажатие на ячейку приводит к выбору препарата и закрытию экрана с передачей выбранного значения (или переходу к следующему этапу сценария).

**Особенности отображения:**
- Секция появляется только при наличии результатов поиска.

#### 2.1.3. Секция «Пустой результат»
- **Иллюстрация-иконка** — отображается по центру экрана, если по запросу не найдено ни одного препарата.
- **Текст «Ничего не найдено»** — крупный, выделенный, информирует пользователя об отсутствии результатов.
- **Подсказка** — дополнительный текст с рекомендациями по корректному вводу запроса (например, проверить наличие опечаток).

**Особенности отображения:**
- Секция появляется только если результаты поиска отсутствуют.

---

## 3. Всплывающие и дополнительные элементы
- **Алерты** — могут появляться для отображения ошибок поиска, проблем с сетью или других важных сообщений (по коду предусмотрен механизм отображения алертов).
- **Экран сканирования штрихкода** — открывается поверх текущего экрана при нажатии на соответствующую кнопку.
- **Голосовой ввод** — может активироваться поверх экрана при нажатии на иконку микрофона (если поддерживается устройством).

---

## 4. Нижняя навигационная панель
- На данном экране отсутствует нижняя навигационная панель.

---

## 5. Схематичное дерево иерархии экрана
```
Экран «Совместимость лекарств»
├── Верхняя панель
│   ├── Кнопка возврата
│   └── Заголовок «Совместимость лекарств»
├── Основная область
│   ├── Поисковая панель
│   │   ├── Поле ввода поиска
│   │   │   ├── Иконка поиска
│   │   │   ├── Кнопка очистки (отображается при наличии текста)
│   │   │   ├── Кнопка голосового ввода
│   │   │   └── Кнопка сканирования штрихкода
│   ├── Секция «Результаты поиска» (отображается при наличии результатов)
│   │   └── Таблица результатов
│   │       └── Ячейка результата (название препарата, форма выпуска)
│   └── Секция «Пустой результат» (отображается при отсутствии результатов)
│       ├── Иллюстрация-иконка
│       ├── Текст «Ничего не найдено»
│       └── Подсказка
├── Всплывающие элементы
│   ├── Алерты
│   ├── Экран сканирования штрихкода
│   └── Голосовой ввод
└── (Виртуальная клавиатура iOS — появляется при фокусе на поле поиска)
```

---

## [Нужно дополнить]
- Не хватает информации о точной реализации и внешнем виде алертов, экрана сканирования и голосового ввода — требуется уточнение.
- Неизвестно, как реализовано отображение ошибок поиска и сетевых ошибок.
- Не описаны возможные дополнительные состояния экрана (например, загрузка, ошибки).
- Не хватает информации о поведении при выборе результата (какой сценарий дальше). 
