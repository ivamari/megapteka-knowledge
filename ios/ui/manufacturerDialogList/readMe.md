# Чат с производителями (ManufacturerDialogListVC)

## Описание и назначение экрана
Экран предназначен для отображения списка чатов пользователя с производителями товаров. Позволяет просматривать историю диалогов, видеть количество непрочитанных сообщений, дату последнего сообщения, а также начать новый чат по интересующему товару. В случае отсутствия чатов отображается информативный пустой экран с подсказкой.

## Общая иерархия экрана
Экран реализован на основе UIViewController (`ManufacturerDialogListVC`) с использованием UITableView для отображения списка чатов и дополнительной кнопки для создания нового чата. В нижней части экрана всегда присутствует таб-бар для навигации по основным разделам приложения.

---

## 1. Верхняя панель

### 1.1. Назначение и элементы
- **Заголовок** (`navigationItem.title`): "Чат с производителями"
  - Отображается по центру верхней панели.
- **Кнопка "Назад"** (навигационная кнопка, иконка стрелки)
  - Позволяет вернуться на предыдущий экран.

---

## 2. Основная область (основной контент)

### 2.1. Секции и их элементы

#### Секция 1: Список чатов (Section.dialogs, ячейка ManufacturerDialogListView)
- **Отображается, если есть хотя бы один чат.**
- **Элементы каждой ячейки:**
  - **Фото товара** (`imageViewPhoto`): Картинка слева, круглое изображение.
  - **Название производителя** (`labelTitle`): Жирный шрифт, основной текст.
  - **Описание/название товара** (`labelSubtitle`): Обычный шрифт, под заголовком.
  - **Дата последнего сообщения** (`labelDate`): Серый текст, внизу.
  - **Бейдж количества непрочитанных сообщений** (`labelUnreadCount` в `viewUnreadCountContainer`): Красный круг с числом, отображается только если есть непрочитанные сообщения.
- **Пользовательское взаимодействие:**
  - Тап по ячейке открывает экран диалога с производителем (`ManufacturerDialogDetailVC`).

#### Секция 2: Пустое состояние (Section.prompt, ячейка FlexiblePromptView)
- **Отображается, если нет ни одного чата.**
- **Элементы:**
  - **Иконка-иллюстрация** (`imageViewIcon`): Центр экрана.
  - **Заголовок** (`labelTitle`): Крупный текст, по центру.
  - **Описание** (`textViewDescr`): Мелкий текст, по центру, может содержать ссылки.

---

## 3. Всплывающие и дополнительные элементы

- **Индикатор загрузки** (`LoadIndicatorService`): Показывается поверх основного контента при загрузке данных.
- **Алерты** (`displayAlert`): Модальные окна с сообщениями об ошибках или информацией.
- **Pull-to-refresh** (`UIRefreshControl`): Потяните список вниз для обновления данных.

---

## 4. Нижняя навигационная панель (UITabBar)

- **Панель навигации** (`UITabBar`), всегда закреплена внизу экрана.
- **Кнопки:**
  - Главный (MainVC)
  - Каталог (CatalogueVC)
  - Корзина (CartVC)
  - Избранное (FavoritesVC)
  - Меню (MenuVC) — с бейджем количества (например, 12)
- **Переход по тапу на соответствующий экран.**

---

## 5. Открываемые экраны при взаимодействии с элементами

- **Ячейка чата** (ManufacturerDialogListView)
  - Открывает: Экран диалога с производителем (**ManufacturerDialogDetailVC**)
- **Кнопка "Задать вопрос о товаре"** (`buttonAskAboutItem`)
  - Открывает: Экран выбора товара для чата (**ManufacturerDialogItemsVC**)

---

## 6. Схематичное дерево иерархии экрана

```
Экран "Чат с производителями" (ManufacturerDialogListVC)
├── Верхняя панель (UINavigationBar)
│   ├── Заголовок ("Чат с производителями")
│   └── Кнопка "Назад"
├── Основная область (UIView)
│   └── Таблица (UITableView)
│       ├── Секция: Список чатов (Section.dialogs)
│       │   └── Ячейка чата (ManufacturerDialogListView)
│       │       ├── Фото товара (UIImageView)
│       │       ├── Название производителя (UILabel)
│       │       ├── Описание/название товара (UILabel)
│       │       ├── Дата последнего сообщения (UILabel)
│       │       └── Бейдж непрочитанных сообщений (UIView + UILabel)
│       └── Секция: Пустое состояние (Section.prompt)
│           └── Ячейка FlexiblePromptView
│               ├── Иконка-иллюстрация (UIImageView)
│               ├── Заголовок (UILabel)
│               ├── Описание (UITextView)
│               └── Кнопка действия (UIButton)
├── Кнопка "Задать вопрос о товаре" (UIButton)
└── Нижняя навигационная панель (UITabBar)
    ├── Главный (MainVC)
    ├── Каталог (CatalogueVC)
    ├── Корзина (CartVC)
    ├── Избранное (FavoritesVC)
    └── Меню (MenuVC, с бейджем)
```